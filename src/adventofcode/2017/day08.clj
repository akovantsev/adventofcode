(ns adventofcode.2017.day08
  (:require [clojure.string :as str]
            [adventofcode.utils :as u]))

(def input "ev dec -705 if cag != 2\nb dec -195 if ty >= -8\nred dec -404 if v > -7\nd inc -971 if k >= -9\nk inc 303 if k > -8\ncag inc 539 if ev > 697\nev inc -11 if d <= -963\nalf inc -634 if xoc < -2\neb dec 927 if b <= 201\ne dec 67 if eb >= -930\nhe dec -29 if qby < 8\ncox inc 193 if b >= 188\nred dec 340 if alf >= -7\nk dec 8 if red > 57\neb inc -606 if e <= -75\nxoc inc 337 if red == 64\nxoc inc 186 if mk == 0\ncox inc 840 if npo >= -5\ns inc -449 if anb != -3\neb inc -233 if npo < 2\nnpo inc -808 if mk <= 9\neb dec 139 if eb > -1161\nty inc -929 if ty > -7\nmk inc 789 if d > -977\nred dec 915 if k < 299\nanb inc 852 if mk == 789\nred dec 242 if swy == -6\ne inc -29 if cag < 546\nalf dec -219 if cag > 535\nred dec -298 if ty < -921\ntm dec 175 if obo <= 2\nalf dec 553 if eb != -1298\nalf inc -870 if s != -449\nv dec 744 if cox < 1036\nd dec -720 if he > 24\nty inc -201 if k <= 301\nxoc inc 956 if v > -744\ns dec 539 if e >= -100\nmk dec -37 if anb != 852\nmk dec 833 if tm < -167\nev dec -410 if ev < 686\ns dec 77 if cag != 539\nanb inc 917 if swy >= -2\nobo dec -5 if s >= -997\nqby inc -231 if tm == -175\nev dec 378 if tm <= -167\nb dec -106 if s < -985\ns dec 301 if e < -89\nnpo inc 232 if b == 301\nred dec -960 if mqk < -9\nhe inc -789 if k == 300\nnpo dec 826 if cox < 1033\ne inc 101 if k > 291\nv inc -898 if he > 27\nalf inc 141 if anb > 1767\nred inc -613 if e < -2\ntm inc -151 if cag >= 530\nk inc -346 if b != 305\nhe dec 967 if cag <= 546\nev dec -931 if cag < 543\nswy dec 309 if qby < -228\nd inc 437 if cox > 1030\nty dec 586 if ev <= 1249\nalf dec 299 if e <= -2\nd inc 977 if xoc == 523\nd inc 594 if s <= -1282\nev inc 21 if swy < -306\nqby dec -722 if cag < 543\nk inc -381 if ev < 1259\nalf inc 847 if anb > 1764\nk inc 126 if s <= -1292\neb inc -109 if mqk > -4\nobo dec 900 if swy < -300\nobo dec 364 if mk <= -35\nswy inc -211 if eb >= -1416\nty dec -680 if mqk <= 1\nty dec -235 if cox > 1024\ncag dec -261 if red <= -559\nobo dec -897 if mqk == 0\ntm inc -981 if mk < -49\nty inc -805 if eb >= -1402\nmk inc 278 if red < -552\nev inc 63 if v > -1645\nswy dec -388 if xoc <= 530\nmqk inc 187 if obo != -357\ns inc 416 if b < 309\nqby inc 399 if mqk >= 185\nred inc -680 if mqk != 188\nhe inc -981 if eb >= -1407\nd inc 225 if tm >= -327\nhe dec 158 if d <= 1991\nd dec 74 if qby == 890\nk dec -930 if anb <= 1770\ns dec -546 if mqk == 179\nty dec 733 if k >= 874\nev dec 581 if obo == -362\ncox dec -922 if obo == -362\nobo dec 922 if e == 5\nd inc -948 if tm == -326\ncag inc 161 if mk <= 241\neb inc -580 if e != -1\nanb inc -632 if qby != 889\nred dec -285 if mk <= 239\nqby inc 550 if eb >= -1997\ne dec 930 if k > 869\neb inc 604 if swy > -138\nobo inc 383 if he != -1100\ns dec -89 if eb <= -1377\nqby dec -821 if ty < -1532\nty inc 940 if qby >= 2257\nalf inc -421 if swy != -123\nqby inc 787 if b != 293\nalf inc -80 if b < 301\nb dec 205 if eb <= -1378\nqby dec 870 if obo != -892\nd inc 183 if swy == -132\ns dec -81 if mqk != 187\nswy inc 976 if d >= 1138\nred dec 281 if anb == 1138\nxoc inc 681 if d < 1141\nv dec 14 if obo > -902\nhe dec -525 if xoc <= 530\nv inc -866 if red >= -955\ncag inc -835 if mk != 240\nqby inc -549 if s <= -781\neb dec 584 if mk >= 229\nqby dec -711 if obo >= -904\nev inc -400 if anb <= 1144\nk inc 82 if swy >= 840\ne dec -415 if mk != 229\nred dec -923 if anb > 1128\nv dec 602 if b != 86\nty dec -699 if ev > 346\nxoc dec 549 if k > 968\nk inc 317 if qby < 2343\nnpo dec 919 if d >= 1137\ne inc 421 if e > -519\neb dec -104 if ev <= 351\nb inc 368 if qby != 2342\nmk dec -987 if ev == 357\neb dec -509 if alf <= 236\nobo dec -380 if v != -3127\nnpo dec -790 if b < 455\nxoc inc 405 if k < 1287\nobo dec -56 if b < 465\nswy dec 194 if k != 1281\nred inc -562 if tm <= -326\nswy dec 75 if e <= -86\nobo dec -4 if ev == 350\ne inc 533 if xoc < 931\ncox inc -584 if d < 1146\nswy inc 506 if eb >= -1354\nobo dec 458 if k >= 1279\nswy inc 447 if e > 447\nqby dec 847 if cox <= 1377\nxoc inc 225 if xoc < 931\nobo dec 301 if b > 462\ncag inc -740 if e > 438\ntm dec -83 if e <= 447\ntm dec -151 if cag <= -866\nnpo inc 26 if s < -784\nv inc 12 if cox != 1368\neb inc -399 if ev > 340\neb dec 780 if d == 1143\ne dec 87 if tm == -91\nk dec -13 if anb <= 1139\nv dec 829 if swy >= 567\nk dec -229 if ev < 351\nqby inc 972 if xoc == 1143\ns inc 609 if s >= -789\nmk dec -931 if ev > 346\nmqk inc -605 if cag > -880\nv inc 302 if anb <= 1139\nmk dec 342 if v > -3647\nxoc inc -905 if k <= 1523\nqby inc -412 if qby == 1493\nv dec -548 if d > 1142\nxoc inc 311 if obo >= -771\nnpo inc -955 if xoc < 551\nswy inc -885 if mk > 821\nty dec 91 if ty >= 100\ns dec -840 if npo <= -1492\nqby inc 158 if ev > 342\nev inc 227 if cag >= -878\nalf dec 612 if tm <= -92\nev inc 395 if he <= -572\ns inc 570 if swy > -311\ns inc 283 if alf > -382\nxoc inc 297 if tm >= -94\nv dec 100 if d != 1153\ncag inc 928 if ty <= 19\ntm inc 829 if obo > -765\nalf inc -94 if ty >= 8\nty inc -224 if cox <= 1367\nobo dec -352 if d > 1137\nmqk inc 223 if ev <= 580\ncag inc 55 if eb >= -2541\nred dec 969 if alf > -474\nalf inc -564 if e != 447\nqby inc -97 if obo < -400\nred dec -530 if cag > 107\nev inc -579 if he > -574\ntm dec -788 if eb <= -2528\nalf inc -217 if v > -3191\ntm inc 635 if cox >= 1362\ntm inc -217 if mqk < -189\ncag dec -547 if v != -3191\nred dec -241 if alf > -1045\nred inc -492 if b <= 473\nhe inc 46 if b > 454\nxoc inc 86 if ty > 8\nd dec -755 if qby < 1140\nmk inc -347 if obo <= -405\nv dec 870 if npo >= -1497\nnpo inc 216 if red != -1287\nanb inc -574 if obo > -414\nev inc -364 if eb == -2534\nanb dec -825 if npo < -1277\nk dec 587 if cox < 1372\nanb inc -888 if obo > -401\nswy dec -435 if npo != -1283\ne dec 551 if e != 444\nswy dec 772 if alf == -1036\ntm dec -339 if e == 444\nswy dec 259 if mk == 470\nxoc inc -224 if ev >= -359\nty inc 265 if red >= -1279\nobo dec 449 if mqk > -202\nd inc 891 if e >= 438\ncag dec 606 if b >= 461\nmk inc -894 if v != -4064\ncag dec -128 if d != 2034\neb dec 723 if eb <= -2528\nswy inc -12 if s < 1525\ns inc -569 if d == 2032\nnpo inc 326 if alf >= -1038\ncox dec -213 if anb == 1379\nobo dec -222 if d > 2026\nev dec 809 if anb == 1393\ns inc -637 if alf != -1037\ns dec -892 if xoc == 942\neb inc -248 if cag != -491\nb dec 499 if qby != 1142\nb dec 543 if d <= 2033\nmk inc 345 if mk < -411\nty dec -284 if npo != -960\nd dec -327 if eb < -3498\ncag inc -743 if mqk > -196\ncag dec 708 if ev > -374\neb inc 935 if swy == 113\nd dec -908 if swy == 113\nnpo inc -753 if swy == 113\ncag dec -227 if alf > -1045\nred dec -658 if v <= -4061\ncox inc -66 if anb < 1397\ncag dec -209 if b > 463\ncox inc -245 if alf != -1037\nalf dec -212 if s >= 2402\nd inc 590 if d >= 3273\nxoc inc -325 if xoc > 935\nred inc 935 if he >= -519\ntm dec 332 if ev >= -366\ncag inc 583 if xoc <= 615\ne inc -892 if e >= 439\nnpo inc -628 if obo > -629\nred inc -819 if tm <= 1958\nqby dec -960 if ev > -372\nred dec -781 if tm < 1959\ncox inc -831 if xoc < 621\nb inc -830 if ty >= 559\nanb inc 654 if cag < -1507\ncag dec 995 if red >= -659\nnpo inc 356 if b < -361\ntm dec 286 if qby > 2093\nmk dec 369 if ty <= 569\nmk dec -971 if qby != 2112\nswy inc 137 if xoc > 617\nalf dec -743 if npo > -1355\nalf inc 39 if ty < 569\ntm dec -42 if s <= 2413\nanb inc -685 if alf != -48\nty dec 660 if anb <= 1360\nnpo dec 313 if ev < -359\ncag inc -611 if obo >= -646\ntm inc 728 if v <= -4067\nswy inc -4 if cag != -3124\nnpo inc 359 if xoc >= 613\nobo inc 694 if b != -358\nobo dec 439 if e >= -452\nnpo dec -160 if xoc <= 626\nred inc -659 if e <= -439\nb inc -445 if obo == -382\nred dec 543 if k > 931\ns dec 274 if qby != 2093\ncag dec -338 if k <= 934\nalf dec -211 if alf == -45\nv dec -451 if tm == 1706\nobo dec -465 if v > -3606\nk inc 415 if qby > 2100\nanb dec 220 if swy == 109\nalf inc -3 if cox < 477\nd dec 164 if s > 2131\nqby dec -974 if alf >= -40\ncag dec 891 if anb < 1146\nd dec -337 if qby > 2100\ncag dec -628 if d != 3442\nk dec -648 if alf == -46\nred dec -329 if k == 1996\ne inc -891 if alf <= -38\ncox inc -626 if ty >= -99\nmqk inc -349 if mqk >= -204\nalf inc 388 if qby > 2092\nmk inc -430 if d > 3443\neb dec 338 if alf < 352\nmk inc -215 if cox == -147\ne dec 171 if b >= -819\nalf dec -205 if d != 3433\nd inc -490 if qby == 2102\ne inc 612 if he > -528\nanb inc -811 if mqk > -543\nhe inc 685 if cox >= -154\nred dec -748 if anb <= 1129\nty dec -872 if ty >= -97\nb inc -920 if eb == -2908\ns inc -701 if mqk >= -548\ntm inc 136 if alf > 545\nhe dec -100 if e != -898\nqby inc 552 if anb >= 1132\nxoc inc 700 if xoc == 617\nxoc dec 827 if obo != -385\nanb inc 738 if d != 2956\neb inc 476 if mqk == -544\ns dec -100 if ev == -366\nobo inc -602 if e == -898\ntm inc -80 if xoc == 490\neb inc 160 if eb == -2432\nhe inc 229 if he == 159\ntm inc 453 if b > -1739\nobo dec 786 if qby < 2655\nswy inc -120 if qby != 2651\nev dec -382 if obo != -1770\nqby dec 41 if eb < -2265\ncox inc -991 if obo > -1765\ncag inc -713 if obo > -1773\nhe inc -958 if red <= -1522\nty inc -426 if mqk != -551\nk inc 902 if ty == 349\nnpo dec -550 if eb < -2274\nswy inc -30 if d < 2954\nanb dec 990 if npo < -1139\nty dec 301 if red >= -1529\nev inc -687 if ty > 347\nty dec 261 if he <= -802\nb dec -313 if ev < -1043\nalf dec 231 if k != 2889\nnpo inc 956 if qby >= 2618\ncag inc -39 if npo <= -1135\nhe dec 117 if qby > 2605\nv inc -574 if cag > -4421\nnpo inc -179 if mk <= 538\nv inc -737 if he < -910\nnpo inc 722 if swy < -37\nmk inc 200 if alf != 313\nnpo dec -604 if mqk == -544\nev dec -794 if ev > -1048\neb inc -384 if npo == 3\nhe dec -10 if qby != 2614\ne dec -317 if e > -906\ne inc -662 if d >= 2946\ns inc 941 if npo != 0\nxoc inc 765 if e <= -1235\nb inc 434 if ty > 354\ne inc 513 if anb > 880\ncox inc 146 if mk > 734\nmk inc -31 if alf == 316\nqby inc 887 if mqk == -547\nobo dec -87 if mqk != -536\nhe inc -230 if tm != 2217\ne dec -469 if alf < 326\nalf inc 608 if d != 2950\nmqk dec -78 if v < -4355\nb inc -865 if ty < 356\ns dec 57 if npo < 7\nnpo dec -100 if cag > -4428\ncag inc -217 if red > -1522\nb dec 338 if k == 2898\nnpo inc -324 if k <= 2906\nmk dec -763 if obo >= -1687\ne inc 760 if d > 2945\ne dec 984 if v == -4350\nobo inc 651 if he <= -1126\nred dec -380 if d >= 2950\nb inc 11 if k > 2888\nv dec -406 if red <= -1142\nanb dec -900 if e <= 501\nty inc -2 if mk != 1471\ntm dec -655 if qby > 2619\nk inc 142 if mqk < -540\nev inc -346 if xoc != 1265\nxoc dec -284 if k >= 3032\nd inc -908 if k == 3040\ne inc 36 if swy == -41\nxoc dec 372 if alf != 930\ns dec -327 if xoc != 1159\ne inc 56 if ty < 343\nv inc -445 if npo == -221\nxoc dec 265 if s >= 2746\nk dec 604 if swy >= -42\nalf inc 918 if eb > -2662\nmk inc -227 if cox != -150\ncox dec -693 if qby <= 2614\nd inc 88 if k != 2434\ntm dec -278 if k > 2428\nv dec 384 if red <= -1145\nnpo inc 854 if ev != -1390\nhe inc 69 if xoc >= 893\nd inc 587 if eb <= -2650\nb dec 873 if anb == 1785\ntm dec -557 if mk != 1230\nk dec -335 if k <= 2437\nd inc -215 if cag != -4424\nobo dec -754 if red == -1140\nd inc 369 if v != -4766\ntm dec -12 if red >= -1155\nanb dec -836 if xoc <= 892\ns inc -170 if cag <= -4422\nk dec -717 if mk != 1234\nnpo inc -790 if k >= 2764\nobo dec -87 if red <= -1157\nv dec -894 if ev >= -1401\ncag inc -440 if swy >= -49\ne inc 31 if d > 3091\nv dec -581 if he != -1057\nanb dec 760 if k <= 2775\nswy dec 513 if v != -3295\ns inc 840 if mk > 1242\nnpo dec -359 if mqk > -549\nred dec -958 if ev >= -1403\nty dec -246 if qby != 2617\nk inc -28 if cox <= 544\nnpo inc -881 if cox > 545\nty dec -733 if ev < -1391\ne dec 750 if cag <= -4863\ncox dec -44 if alf < 1843\nmk inc 751 if ev < -1390\nhe inc -968 if mk > 1980\nd dec -431 if npo != 202\nv inc 406 if xoc != 902\ntm inc 635 if mk <= 1991\nnpo dec 401 if anb <= 1022\nv dec 940 if obo >= -1034\nnpo dec 572 if qby < 2619\nswy inc 934 if anb != 1021\neb inc 499 if swy == 893\nmqk inc 17 if s < 2568\nmqk dec -704 if alf != 1836\nty inc -301 if mqk != 162\nnpo dec 29 if cox >= 579\nalf inc -677 if npo > -409\nmk dec -399 if npo == -399\ncox dec 639 if e == -213\nev inc 602 if qby < 2617\nev dec -238 if eb != -2149\nmqk inc 26 if k > 2734\nanb dec -153 if v > -4238\nb inc -331 if cox != 584\nmk dec 411 if s > 2574\nxoc dec -631 if xoc == 902\nmqk dec 795 if d != 3083\nswy dec -911 if anb > 1184\nanb dec 368 if e >= -217\nb dec 463 if qby != 2612\nqby dec -127 if v <= -4226\nalf inc -848 if npo != -409\nobo dec -499 if s >= 2571\nswy dec 165 if v < -4225\nalf dec 71 if mqk == -609\nb dec -717 if d != 3090\ncag inc 721 if tm <= 3694\nxoc inc 304 if ty > 1033\nswy inc 728 if d < 3096\ntm inc -690 if eb >= -2163\nqby inc 979 if ty == 1025\ns dec -175 if swy >= 1449\ns dec 639 if he > -2038\nmqk dec 615 if red <= -189\nhe dec 481 if cox >= 578\nanb inc -329 if xoc <= 1532\nanb inc 350 if red != -192\nobo inc 720 if s != 2108\nev dec -316 if s > 2111\nmqk inc 322 if alf == 246\nd dec -723 if cox > 580\nb inc -301 if alf >= 254\ncox dec 847 if xoc > 1528\nv dec -298 if cox <= -254\neb dec -842 if cag != -4874\nhe inc 483 if eb != -1324\nb inc -160 if npo >= -400\ntm dec 885 if obo == 187\nanb inc -505 if tm <= 2129\nred dec 387 if e < -212\ne dec 761 if npo <= -397\nhe dec 303 if tm == 2128\ns dec 308 if b < -3718\nmqk dec -207 if he > -2041\nev inc -655 if xoc != 1533\ns inc -601 if d > 3809\nev dec 666 if cox < -256\nty inc 384 if he != -2041\nv inc -560 if ty >= 1403\nty inc 446 if obo != 194\nobo inc -570 if cag != -4868\nobo inc 21 if k == 2743\ncox dec -183 if mk != 1973\ns inc -780 if eb <= -1306\nb inc -173 if tm != 2131\nb inc 489 if v > -4488\nswy inc 337 if s < 431\nty inc 36 if alf >= 240\nxoc inc -941 if s < 427\nxoc dec -533 if xoc <= 600\neb dec 269 if swy == 1795\neb inc -718 if swy < 1796\nxoc dec 319 if eb <= -2039\nev dec 855 if npo < -390\nv inc 208 if d >= 3805\nd inc -846 if tm == 2122\nred inc -636 if mk <= 1977\nd dec 695 if ev == -1764\ne dec -864 if cox == -268\nv dec -913 if d == 2270\nalf inc -364 if cox > -270\nhe dec -211 if cag != -4862\nb dec 624 if b != -3887\nv dec -953 if b < -4514\nty dec 631 if b < -4518\ne dec -496 if obo <= -367\nd dec -911 if cag >= -4872\nmk inc -549 if xoc >= 1117\nalf dec -586 if e <= -971\ncag dec -919 if k == 2743\nqby inc -803 if cag <= -3943\nk dec 18 if k > 2734\nty dec 537 if qby > 2909\nswy dec 973 if tm >= 2122\nd dec -502 if qby == 2916\nty inc 50 if he >= -1816\ncag dec 344 if e > -985\ncag inc -967 if anb < 311\nev inc 193 if npo != -393\nev inc -934 if cag >= -5265\nev dec 416 if d == 3683\nty inc -963 if d < 3688\ns dec -904 if s <= 424\nb dec 52 if b >= -4524\nalf inc -427 if obo <= -363\nred dec -686 if cox > -268\nb dec 551 if mqk == -695\nxoc dec -670 if v > -2428\nanb inc 310 if ty >= 401\nev dec 768 if red < -519\ntm dec -391 if k == 2725\nb inc -624 if xoc < 1797\ns inc -962 if ty != 391\nxoc inc -482 if mqk > -703\nalf inc -110 if v < -2418\nmqk inc -812 if s < 1329\ncag dec -584 if red >= -529\nqby dec -503 if npo >= -405\nnpo dec -592 if npo <= -396\nanb inc -611 if anb < 313\nanb inc -537 if red < -538\neb inc 781 if cag < -4664\nxoc dec -241 if he >= -1821\nk inc -974 if swy >= 816\neb dec -649 if ev > -3690\nhe dec 258 if b > -5750\ncag inc -618 if tm >= 2513\nb inc -132 if npo == 190\ncox inc -187 if mk > 1427\ntm dec 244 if npo <= 198\ncag inc -21 if alf != 350\nnpo inc -332 if ev >= -3696\nobo inc -144 if ev < -3698\nnpo inc 652 if k >= 1744\nanb inc 682 if b > -5739\nmk dec -585 if eb > -607\nty dec -395 if red <= -521\nd dec -118 if cox < -260\nobo dec 97 if d < 3797\nmk inc 561 if s != 1327\nmqk inc 341 if xoc < 1558\neb dec 136 if xoc >= 1546\neb dec -144 if b == -5744\nb dec 416 if xoc < 1560\ne inc -688 if red <= -520\ncag inc -846 if cox <= -264\ne inc 858 if mk >= 2009\nd inc 120 if mqk < -1165\neb inc 275 if anb < -304\nd dec 426 if e <= -801\nobo inc -175 if alf == 358\nb inc 411 if v > -2433\nanb dec -285 if qby != 3420\ne inc -899 if cox != -257\nty inc 764 if xoc >= 1552\neb inc 157 if tm == 2273\nalf dec 416 if xoc <= 1562\nmqk inc -251 if d <= 3498\ns inc -405 if e != -1698\nhe dec 280 if v < -2419\nmqk dec 783 if e == -1705\ns dec -530 if mk > 2013\ncox dec 601 if qby >= 3421\nalf dec -214 if cox <= -253\ncox inc -280 if v < -2418\nobo inc -617 if k > 1749\ntm dec 400 if v >= -2427\nobo inc -810 if swy == 820\ncag inc 245 if red < -524\nk inc 939 if obo < -1973\nxoc inc -867 if d != 3499\nev inc 930 if ev >= -3690\nnpo inc 490 if npo == 513\nobo dec -127 if tm <= 1874\nv inc -937 if cox < -539\ncox inc 806 if eb < -315\ntm inc 868 if b == -5749\nd inc 370 if cox != 264\nmk dec 735 if d >= 3488\nv dec 651 if tm >= 2736\nd dec 751 if d == 3495\neb inc 73 if eb == -320\nanb inc 946 if mqk >= -2202\nk inc -879 if tm != 2731\ncag dec 329 if cag >= -5075\nv dec 110 if npo <= 998\ncox inc -324 if v != -4012\ns dec -43 if xoc <= 688\nxoc inc 154 if ty <= 1552\nnpo dec 126 if e == -1705\nmqk inc 631 if qby < 3428\nobo dec 875 if k < 882\neb inc -159 if d >= 2737\nty inc 158 if mk < 1266\ncox inc -726 if cox != -65\nred inc 699 if he <= -2352\nanb dec 348 if he == -2353\nmqk dec -25 if cox <= -792\nhe inc -72 if ty == 1550\ntm dec -396 if obo >= -2712\nmqk inc -730 if alf >= 153\nty inc 950 if b <= -5741\nqby inc 711 if b <= -5747\nhe inc 990 if ty == 2500\neb inc 691 if cag <= -5394\nv dec 315 if v >= -4001\ncag inc 831 if k == 872\ncag dec -285 if s != 974\ntm inc 500 if k >= 865\nty inc -407 if ev >= -2761\nev dec -960 if v >= -4019\nanb dec 698 if cox < -781\nswy dec 265 if cox <= -783\ne dec -962 if anb < 237\nhe dec -152 if swy != 555\nnpo dec -416 if alf < 159\nred dec 450 if qby > 4127\ncag inc 253 if s <= 964\ncox dec -969 if tm <= 3634\ne dec 442 if qby < 4135\nmk dec 890 if qby > 4128\ncag dec -934 if ty != 2085\ncox dec 905 if k != 876\nred inc 595 if k <= 862\nb inc 105 if npo > 1286\nobo dec 502 if mk == 394\nty dec 533 if obo != -2718\nev inc -6 if mk < 386\nnpo inc -144 if d < 2746\ne inc -232 if ev >= -1813\nalf inc -78 if ty > 1553\neb inc -637 if ev != -1796\ntm dec 132 if e != -1425\nswy inc 667 if alf == 78\nred dec -166 if mk <= 387\nswy dec -173 if v >= -4014\nqby inc 788 if qby > 4121\nty dec 172 if qby <= 4919\nred dec 447 if tm == 3501\nobo dec 366 if alf == 78\nhe dec -842 if mqk != -2305\nxoc inc -10 if d >= 2736\nev inc 517 if cox != -726\nmqk dec 865 if npo != 1151\nobo inc 29 if red <= -552\nqby inc -337 if b == -5644\ncag dec -970 if mqk != -3172\ne dec 343 if xoc != 827\nd dec -890 if v == -4017\nv dec 793 if anb > 220\ncox dec -442 if he == -599\neb dec -759 if anb > 225\nobo dec 45 if k == 872\nobo dec -534 if e > -1764\ncag inc 344 if npo >= 1149\neb inc -458 if e <= -1764\nobo dec 55 if mqk > -3167\ns dec -487 if v > -4813\nxoc dec -51 if d >= 2744\nty dec 568 if ty >= 1387\ncag inc -698 if cox <= -276\ncag dec 162 if mqk > -3170\nk inc 563 if qby > 4579\nalf inc -784 if tm >= 3498\nmqk dec 520 if obo > -2624\nnpo inc -780 if qby > 4576\nalf dec 152 if he >= -602\nv inc -614 if eb <= 415\nhe dec 659 if k < 1445\nev inc -49 if d >= 2740\ne dec 302 if v >= -5424\nty dec -877 if alf < -867\nqby inc 368 if swy != 1394\nanb inc 732 if swy < 1396\nmk inc 61 if ev > -1344\nb inc -66 if cox == -280\nnpo inc 11 if swy <= 1397\nswy inc 292 if alf >= -852\nred inc -606 if mqk == -3684\ne dec -460 if cox > -272\ns dec -469 if cag > -2898\ntm dec -717 if obo > -2618\nxoc dec -796 if cag != -2893\nev inc -145 if tm < 4222\ne dec 892 if red == -1167\nred inc -403 if red == -1164\ntm dec 519 if npo != 389\ncag dec -107 if cag <= -2900\nev inc -385 if d > 2743\nqby inc -444 if alf <= -857\nev inc -201 if swy != 1398\nnpo dec -851 if s >= 1922\ns inc 975 if s <= 1923\nalf inc -906 if v != -5413\nobo dec 870 if ty >= 815\nobo inc -26 if anb == 959\ne dec -65 if e <= -2951\nty dec -835 if anb == 958\nanb dec -49 if swy > 1394\nmk inc -253 if mqk <= -3680\ne dec -862 if b != -5708\nqby dec -293 if s == 2896\ns inc -845 if cox != -271\nxoc inc 509 if npo >= 387\nobo dec -758 if mqk >= -3675\nv inc 370 if b < -5703\ncox dec -986 if red >= -1172\nb inc -682 if d >= 2739\nk dec 568 if v >= -5055\nmk inc 451 if alf == -1764\nty inc -56 if mk <= 645\neb dec 173 if s <= 2051\ns inc 836 if ty != 764\nalf dec 345 if cag <= -2887\ncox dec 206 if k != 867\neb inc 44 if s > 2053\nd dec -294 if cag <= -2891\nhe dec 904 if swy >= 1386\nty dec 499 if swy < 1399\ne dec 891 if tm > 3698\nb dec -732 if v < -5057\nqby inc 722 if red != -1168\ne inc -609 if npo != 379\nb inc 741 if e < -3525\nb inc -833 if tm >= 3701\nred inc 282 if ev > -2072\nobo dec 441 if b < -5647\nxoc dec -612 if anb != 1005\ns dec 67 if mk > 647\ncox dec -341 if red > -879\nv inc 316 if qby <= 5519\nmk inc -251 if ty == 271\nty dec 587 if b <= -5658\nanb dec 204 if d < 3044\nhe dec -358 if qby < 5521\ns dec -594 if obo < -3946\nxoc dec -802 if d > 3029\nalf dec -536 if alf <= -2105\ntm dec 209 if cox <= 711\ns inc -142 if anb > 809\ns inc -571 if mqk >= -3676\nnpo inc 607 if alf == -1563\nswy inc -438 if swy >= 1388\nb inc 325 if xoc != 3092\nk dec 338 if s <= 2650\ncag dec -748 if he == -1804\nnpo inc -186 if npo <= 382\ncag inc -920 if tm != 3483\nswy dec 288 if mk >= 652\nty dec 362 if mqk != -3685\nalf inc 291 if anb == 811\nmqk inc 203 if red == -890\nswy inc 712 if eb >= 231\nty dec 327 if v > -5052\nnpo inc -453 if mqk == -3684\ncox inc 747 if mqk < -3685\nqby dec 844 if cox >= 698\ncag inc 785 if swy != 1659\nred dec -820 if xoc > 3086\nanb inc -2 if cox < 709\ncox inc 91 if cag <= -2280\ncox inc 988 if mk <= 643\nev inc 895 if ty != -433\nred dec -411 if npo == -259\nnpo dec 831 if npo > -261\nk dec 799 if mk == 643\nqby inc 373 if v != -5054\ne inc 949 if swy > 1668\nqby inc 278 if d > 3037\neb inc -839 if obo != -3946\nmk dec 758 if anb <= 800\nnpo inc -662 if s != 2642\ne inc -807 if e < -2575\ncag inc 755 if swy <= 1669\ne dec -532 if swy > 1662\nalf dec -4 if eb <= -596\nswy dec -552 if ev <= -1170\nd dec -857 if cox != 1700\nanb dec -31 if anb > 798\neb dec -482 if npo < -1759\nty inc 820 if d == 3897\nxoc inc -846 if v >= -5054\nalf dec 312 if d != 3895\nobo dec -531 if npo >= -1752\nb dec 722 if ev > -1177\nd inc 912 if ev == -1173\ne inc -497 if cag <= -1514\nb dec 551 if eb <= -599\nmqk dec -130 if alf >= -1576\nobo dec 426 if s >= 2649\nmqk inc 672 if cox >= 1698\nred inc -879 if alf <= -1568\nhe dec -503 if cox != 1687\ntm dec 117 if ev != -1173\nhe dec 237 if mk < 645\nqby inc 189 if eb != -601\nk inc 820 if k < -279\nmqk inc -594 if obo <= -3421\nk dec 375 if v > -5041\ncag dec 298 if d != 4807\nb inc 985 if ev != -1163\ntm inc -697 if cox >= 1687\nv dec -940 if swy >= 2212\nk inc -260 if d >= 4806\nty dec 73 if k < -526\nswy inc -530 if s <= 2654\nmqk dec 636 if swy >= 1686\nd inc 32 if qby <= 5516\nv inc -809 if v <= -4103\ne dec 380 if k != -540\nev inc -651 if b == -5939\nqby inc 352 if alf >= -1576\nv inc -256 if obo > -3416\nmqk dec 28 if red <= -527\nalf inc 395 if npo > -1762\nev dec 317 if d < 4837\ncag inc 74 if red >= -528\nmk dec -575 if anb == 833\ncag dec 744 if obo == -3421\nmk dec -455 if qby == 5868\nk inc 350 if cag <= -2266\nd inc 730 if npo <= -1749\nty dec 180 if mk != 1673\nxoc inc 364 if cox == 1694\nanb inc 937 if cox == 1694\ns dec 459 if tm >= 2785\ncox inc -594 if cag != -2271\ncox dec 874 if cox > 1102\nxoc dec 289 if alf > -1178\ne inc -178 if obo < -3413\nred dec -965 if obo >= -3416\nnpo dec -47 if ty == -497\nalf inc -264 if npo < -1697\nv inc -518 if alf == -1429\nred dec -264 if swy == 1697\nk inc 540 if obo > -3415\nev dec 208 if tm != 2799\nnpo dec -967 if tm >= 2788\nxoc inc 106 if swy == 1691\neb dec -276 if s >= 2185\nb inc -151 if mqk == -4812\nhe dec 120 if he <= -1534\ne inc -236 if cox >= 1091\ntm dec -25 if alf == -1436\nxoc inc 618 if s == 2186\nb dec 269 if qby != 5876\ncag inc -911 if cag != -2267\nmqk inc -68 if he == -1658\nalf inc -267 if ev > -2035\ncag dec -228 if npo < -733\nk inc -527 if cag > -2043\nqby inc 341 if red == -533\nxoc dec 539 if mqk >= -4879\nd dec 884 if ev == -2032\nmk dec -837 if ty == -497\ntm inc -879 if k == -707\nk dec -32 if tm > 1907\ne dec 771 if ev > -2026\nqby inc -732 if s <= 2192\nev dec 629 if swy < 1700\nobo dec -799 if e > -4138\ne dec -954 if k >= -683\nev inc 177 if eb == -329\nd inc -151 if cag < -2032\nb dec 967 if alf > -1711\ne dec 836 if b == -7326\nhe dec -543 if eb > -337\nd inc 478 if alf == -1705\nmqk dec 251 if xoc < 3047\nv inc 235 if anb == 1770\nxoc inc 94 if mqk > -5134\nswy dec -106 if s > 2176\ncox inc 591 if xoc != 3138\neb dec -594 if eb == -329\nhe inc -389 if qby == 5469\nswy dec 680 if ty != -487\nalf inc 713 if ev < -2483\nmqk dec 533 if b != -7332\nmk dec -282 if tm <= 1920\nd dec -878 if tm >= 1913\nev inc -821 if b > -7327\ns dec -229 if qby > 5475\ntm dec -671 if swy > 1115\nmk dec 703 if eb > 262\ncag inc 96 if v == -4682\nalf inc -771 if mqk != -5672\neb inc 140 if b > -7322\nswy inc -493 if eb != 270\nhe inc 826 if eb == 273\nv inc 82 if s <= 2408\nanb inc -898 if tm <= 2585\nmk dec 735 if red <= -531\nobo inc -704 if eb >= 262\ncag dec -145 if tm == 2585\nk dec -952 if swy > 620\nmqk inc 818 if eb == 265\nhe inc 229 if b > -7325\nv dec -717 if npo != -746\nnpo inc -329 if d == 5890\nxoc inc 820 if v > -3957\nev inc -751 if alf != -1768\nhe inc -105 if npo == -1066\ntm inc -86 if swy <= 627\nnpo inc 83 if qby < 5486\nnpo inc 829 if mk != 1347\nswy dec -554 if tm >= 2504\nanb inc 836 if red <= -524\nnpo dec -878 if b > -7328\ncag inc -276 if alf != -1763\nred inc 215 if qby >= 5469\neb inc -509 if d >= 5884\nxoc dec -707 if he >= -1119\ns dec 42 if cag > -1801\ns dec 63 if obo >= -4125\nmk dec 358 if cag <= -1793\neb inc 95 if cag <= -1793\neb dec -637 if b >= -7323\nty inc -617 if xoc != 3854\nmqk dec 510 if ty < -1112\nhe inc -285 if tm != 2499\nev inc -547 if qby < 5487\nmk dec -915 if npo < 730\neb inc -953 if e > -4036\nobo dec 412 if he >= -1108\nnpo inc -925 if d < 5888\nev inc 930 if cag < -1792\nv inc 658 if npo <= 726\nev inc 892 if mk <= 1918\nev inc 756 if b == -7326\nqby inc -574 if s > 2307\nnpo inc -638 if red >= -326\ntm dec 248 if mk < 1913\ncox inc 865 if s < 2317\ncox dec -950 if d <= 5893\nmk dec -632 if he <= -1108\nv inc 176 if d <= 5893\nmk inc -805 if ty != -1120\nev dec 973 if npo < 89\nswy dec -601 if s < 2308\ne dec -146 if cox < 3509\nmqk inc 321 if cag > -1803\nxoc inc -534 if alf >= -1764\nd dec 747 if ev >= -3004\nnpo inc -826 if obo != -4120\nxoc inc -343 if ev < -2994\nb dec 415 if anb <= 1708\nb dec 323 if xoc > 2976\nb inc 697 if ty <= -1118")
(def sample "b inc 5 if a > 1\na inc 1 if b < 5\nc dec -10 if a >= 1\nc inc -20 if c == 10")


(def operation {"inc" (fnil + 0) "dec" (fnil - 0)})
(def predicate {">" > "<" < ">=" >= "<=" <= "==" = "!=" not=})

(defn parse-ins [s]
  (let [[reg1 op x _if reg2 pred y] (str/split s #"\s")]
    {::debug s
     ::a     reg1
     ::op    (operation op)
     ::x     (u/to-int x)
     ::b     reg2
     ::pred  (predicate pred)
     ::y     (u/to-int y)}))

(defn parse [s]
  (->> s (str/split-lines) (map parse-ins)))

(defn apply-instruction [state {::keys [a op x b pred y]}]
  (if (pred (get state b 0) y)
    (update state a op x)
    state))

(defn f1 [input]
  (->> input
    parse
    (reduce apply-instruction {})
    vals
    (reduce max)))

(assert (= 1 (f1 sample)))
(assert (= 5143 (f1 input)))

(defn f2 [input]
  (->> input
    parse
    (reductions apply-instruction {})
    (mapcat vals)
    (reduce max)))

(assert (= 10 (f2 sample)))
(assert (= 6209 (f2 input)))