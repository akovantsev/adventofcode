(ns adventofcode.y2020.day07
  (:require [clojure.string :as str]))


(def i "dim red bags contain 2 bright gold bags, 5 striped fuchsia bags.\ndotted purple bags contain 5 bright olive bags, 3 faded maroon bags.\nplaid chartreuse bags contain 1 vibrant olive bag, 5 bright black bags, 1 clear tomato bag.\nwavy orange bags contain 4 dark lavender bags, 4 posh white bags.\nlight lavender bags contain 4 drab olive bags, 5 dark magenta bags.\npale black bags contain 5 dotted beige bags, 5 clear chartreuse bags, 4 pale lime bags.\nwavy crimson bags contain 5 dull tomato bags.\nmuted aqua bags contain 1 dotted aqua bag, 5 posh plum bags, 1 bright blue bag.\nstriped green bags contain 3 light silver bags, 2 plaid purple bags.\nplaid cyan bags contain 3 pale maroon bags, 2 bright yellow bags.\ndull maroon bags contain 2 wavy black bags, 2 plaid tomato bags, 2 dim silver bags, 3 plaid salmon bags.\nbright gold bags contain 4 wavy olive bags, 3 muted gray bags, 4 dark indigo bags, 5 dark chartreuse bags.\ndrab blue bags contain 1 light green bag.\nmuted brown bags contain 4 dark red bags, 5 dull aqua bags, 4 drab blue bags.\nbright olive bags contain 5 dim salmon bags, 4 dotted beige bags, 2 pale bronze bags.\nmirrored red bags contain 3 mirrored chartreuse bags, 3 muted gold bags, 5 bright beige bags, 4 dim green bags.\npale gray bags contain 4 vibrant tomato bags.\nstriped purple bags contain 5 dotted gray bags.\nlight brown bags contain 1 shiny silver bag, 3 plaid olive bags, 1 clear tan bag.\ndim tan bags contain 1 posh black bag, 3 faded maroon bags, 5 bright gray bags.\nfaded fuchsia bags contain 5 posh fuchsia bags, 3 drab salmon bags, 1 posh orange bag.\ndim gray bags contain 4 bright crimson bags, 5 dotted salmon bags, 2 plaid indigo bags.\nbright tan bags contain 2 posh lime bags.\nfaded olive bags contain 5 light fuchsia bags, 1 shiny orange bag, 4 posh lavender bags.\nvibrant indigo bags contain 3 vibrant turquoise bags, 4 faded magenta bags, 4 pale red bags, 4 mirrored turquoise bags.\nclear salmon bags contain 3 pale maroon bags, 5 drab green bags, 1 light green bag.\nclear maroon bags contain 2 pale black bags, 5 dark coral bags, 3 dark purple bags, 2 vibrant blue bags.\nclear olive bags contain 2 muted brown bags.\ndrab bronze bags contain 3 wavy brown bags, 4 posh lime bags, 1 mirrored beige bag.\ndull red bags contain 3 dark cyan bags, 5 bright indigo bags, 4 clear brown bags, 5 plaid violet bags.\nvibrant green bags contain 3 clear brown bags, 5 plaid yellow bags, 4 vibrant crimson bags.\ndark bronze bags contain 5 dark silver bags.\nmirrored orange bags contain 2 shiny crimson bags, 3 clear tomato bags, 1 muted crimson bag.\npale yellow bags contain 1 bright olive bag.\ndotted teal bags contain 1 plaid olive bag, 2 drab white bags.\ndull tan bags contain 2 faded aqua bags, 3 muted green bags.\nclear crimson bags contain 3 dark purple bags.\nlight violet bags contain 3 pale beige bags, 2 mirrored silver bags.\nmuted green bags contain 2 wavy brown bags, 3 dull gray bags, 4 drab tan bags, 3 plaid teal bags.\nmirrored beige bags contain no other bags.\ndotted silver bags contain 1 vibrant green bag.\ndrab fuchsia bags contain 1 vibrant bronze bag, 1 striped fuchsia bag, 1 dotted beige bag.\ndim beige bags contain 4 dotted cyan bags, 4 vibrant fuchsia bags, 5 dull violet bags.\nshiny fuchsia bags contain 4 pale gold bags, 3 mirrored crimson bags, 4 plaid gold bags, 5 shiny yellow bags.\ndark yellow bags contain 2 faded chartreuse bags.\nlight chartreuse bags contain 1 plaid blue bag, 5 dim green bags, 1 faded chartreuse bag.\ndull beige bags contain 2 wavy tomato bags, 1 striped yellow bag.\nclear tan bags contain 4 plaid yellow bags, 1 posh cyan bag, 2 dim silver bags.\nposh lime bags contain 3 pale brown bags, 5 dim tomato bags.\ndim aqua bags contain 4 plaid lavender bags, 5 striped violet bags, 4 plaid chartreuse bags.\nlight salmon bags contain 4 striped red bags, 2 wavy indigo bags, 2 light tomato bags, 1 dark cyan bag.\nvibrant yellow bags contain 1 plaid blue bag, 3 dotted violet bags, 2 wavy red bags, 5 drab beige bags.\ndrab white bags contain 4 faded tan bags.\nlight gray bags contain 3 plaid gold bags, 2 light green bags, 5 dim blue bags, 4 posh turquoise bags.\ndull magenta bags contain 5 mirrored salmon bags, 1 mirrored chartreuse bag, 3 dull gray bags.\nstriped tan bags contain 5 plaid red bags, 2 dim chartreuse bags, 3 muted tomato bags.\nshiny turquoise bags contain 1 drab gold bag, 5 posh teal bags, 2 vibrant bronze bags, 2 vibrant chartreuse bags.\nbright lime bags contain 1 drab olive bag, 3 dark blue bags, 2 mirrored lavender bags, 4 shiny indigo bags.\nmirrored lavender bags contain no other bags.\npale white bags contain 1 plaid tan bag.\nwavy blue bags contain 2 light tomato bags, 4 dim bronze bags, 1 plaid green bag, 2 dark maroon bags.\nmuted beige bags contain 1 bright black bag, 4 dull magenta bags, 2 shiny indigo bags.\nlight purple bags contain 3 bright violet bags, 2 vibrant crimson bags.\nmirrored cyan bags contain 1 wavy salmon bag, 2 vibrant green bags, 1 muted coral bag, 2 drab bronze bags.\nfaded coral bags contain 2 drab bronze bags, 2 wavy beige bags, 5 clear blue bags.\nwavy aqua bags contain 4 dotted beige bags.\nstriped maroon bags contain 2 clear indigo bags, 4 pale black bags.\ndark white bags contain 1 vibrant green bag, 2 vibrant crimson bags.\ndim teal bags contain 1 pale plum bag.\nmuted red bags contain 4 plaid maroon bags.\nplaid lavender bags contain 2 posh gold bags, 1 dark blue bag, 4 muted gold bags.\ndrab crimson bags contain 2 dull green bags, 3 vibrant orange bags, 4 bright gray bags.\nposh aqua bags contain 1 dotted fuchsia bag, 5 posh turquoise bags.\nmuted maroon bags contain 4 drab green bags, 5 pale plum bags, 4 shiny indigo bags, 1 light chartreuse bag.\nposh indigo bags contain 2 dim blue bags.\nlight magenta bags contain 4 muted black bags, 1 muted green bag.\ndark plum bags contain 2 pale tomato bags, 2 dark maroon bags.\nfaded lavender bags contain 2 bright magenta bags.\nlight silver bags contain 2 pale red bags, 5 vibrant plum bags, 3 posh indigo bags.\nlight plum bags contain 1 light red bag, 1 mirrored chartreuse bag, 1 dark cyan bag.\nplaid bronze bags contain 4 muted turquoise bags, 4 mirrored blue bags, 4 faded yellow bags, 1 pale bronze bag.\nstriped cyan bags contain 4 posh black bags, 5 light maroon bags.\nstriped magenta bags contain 5 faded brown bags, 4 pale aqua bags, 5 wavy brown bags.\nplaid olive bags contain 5 vibrant green bags, 2 posh plum bags.\nlight maroon bags contain 4 muted tomato bags, 1 shiny lavender bag.\nmirrored salmon bags contain 2 dull tomato bags, 5 pale crimson bags, 2 striped yellow bags, 1 drab salmon bag.\nmirrored bronze bags contain 5 posh orange bags.\nmuted black bags contain 2 light white bags, 5 wavy black bags, 5 wavy maroon bags.\ndrab plum bags contain 5 light indigo bags, 5 dull silver bags, 3 dim green bags, 2 dim silver bags.\nlight green bags contain no other bags.\nposh salmon bags contain 3 bright lime bags.\nlight beige bags contain 1 faded indigo bag, 4 faded teal bags, 1 dark green bag, 3 vibrant bronze bags.\nlight gold bags contain 4 pale black bags, 4 dotted white bags, 5 striped gray bags.\npale lime bags contain 2 drab blue bags, 4 wavy beige bags, 3 striped red bags, 5 shiny purple bags.\nstriped crimson bags contain 5 muted white bags, 3 plaid coral bags.\ndull aqua bags contain 2 vibrant maroon bags, 4 posh gold bags.\nmirrored indigo bags contain 4 wavy white bags.\nclear green bags contain 2 light white bags.\nclear gray bags contain 3 dull coral bags, 4 dim fuchsia bags.\ndim coral bags contain 1 muted olive bag.\ndark indigo bags contain 5 faded chartreuse bags, 4 dark red bags, 4 shiny indigo bags, 3 plaid blue bags.\nplaid purple bags contain 4 striped blue bags, 4 dark beige bags, 1 drab silver bag, 5 dotted blue bags.\nfaded tan bags contain 4 wavy fuchsia bags, 2 mirrored beige bags, 5 dim chartreuse bags.\nfaded white bags contain 1 plaid teal bag, 5 dark red bags, 4 dim olive bags, 2 dim bronze bags.\ndotted chartreuse bags contain 2 muted purple bags, 4 posh gold bags.\ndull plum bags contain 3 dark lime bags.\ndull lime bags contain 2 bright teal bags, 1 vibrant aqua bag, 4 plaid yellow bags, 2 vibrant silver bags.\ndim violet bags contain 4 wavy white bags, 3 vibrant aqua bags, 4 clear tomato bags.\ndotted olive bags contain 1 clear gray bag, 1 dotted fuchsia bag, 3 wavy tomato bags, 4 bright maroon bags.\nmirrored olive bags contain 4 drab salmon bags, 4 light indigo bags.\nwavy brown bags contain 5 wavy beige bags.\ndrab salmon bags contain 4 wavy maroon bags, 5 bright purple bags.\nbright indigo bags contain 4 mirrored tomato bags.\nplaid violet bags contain 3 shiny white bags, 1 posh crimson bag.\ndrab lavender bags contain 2 vibrant gold bags, 5 faded aqua bags.\nclear red bags contain 3 dotted plum bags, 4 striped crimson bags.\nvibrant salmon bags contain 2 light maroon bags, 1 light olive bag, 1 mirrored tomato bag.\nfaded beige bags contain 3 plaid blue bags.\nvibrant magenta bags contain 2 vibrant black bags, 5 drab lavender bags, 4 dull indigo bags, 3 faded indigo bags.\nshiny lavender bags contain 4 drab gold bags, 4 plaid violet bags.\nstriped coral bags contain 5 vibrant green bags.\ndotted green bags contain 1 wavy maroon bag, 1 wavy white bag, 4 striped fuchsia bags.\ndull purple bags contain 1 posh lavender bag, 5 posh brown bags, 1 plaid gray bag, 2 clear red bags.\nmirrored teal bags contain 4 posh chartreuse bags.\nfaded lime bags contain 5 dark gray bags, 5 light purple bags, 3 dotted magenta bags, 1 mirrored blue bag.\nstriped olive bags contain 3 clear purple bags, 2 light cyan bags, 5 mirrored chartreuse bags, 4 plaid cyan bags.\ndark cyan bags contain 5 faded violet bags, 4 clear brown bags, 3 shiny gold bags.\nmirrored tan bags contain 5 dim green bags, 5 clear brown bags.\nwavy maroon bags contain 3 pale lime bags, 1 muted brown bag.\nposh brown bags contain 3 wavy salmon bags, 1 shiny tan bag, 1 plaid tomato bag.\nmirrored lime bags contain 5 muted tomato bags.\nclear teal bags contain 3 muted lavender bags, 3 dotted fuchsia bags.\ndim silver bags contain 4 drab green bags, 5 striped yellow bags, 3 vibrant maroon bags.\ndim indigo bags contain 4 plaid blue bags, 3 bright brown bags.\nvibrant tomato bags contain 1 dim violet bag, 3 clear gray bags.\nwavy white bags contain 4 bright purple bags, 4 vibrant orange bags, 2 wavy yellow bags, 3 drab blue bags.\nplaid beige bags contain 4 shiny white bags, 4 drab chartreuse bags, 1 bright orange bag.\npale fuchsia bags contain 1 plaid cyan bag, 3 striped coral bags, 5 muted violet bags, 3 wavy brown bags.\nposh plum bags contain 5 dotted brown bags, 5 muted green bags.\ndim gold bags contain 5 mirrored lavender bags.\nplaid aqua bags contain 3 drab magenta bags.\ndotted tan bags contain 3 dull tan bags, 4 pale lime bags, 5 wavy teal bags.\nfaded bronze bags contain 4 dull silver bags, 3 dim cyan bags, 5 posh chartreuse bags, 4 pale maroon bags.\nwavy green bags contain 5 plaid teal bags, 2 bright teal bags.\nclear orange bags contain 5 faded yellow bags, 2 mirrored salmon bags, 3 faded coral bags, 4 clear tan bags.\nwavy lavender bags contain 3 dotted magenta bags, 5 wavy tomato bags, 1 pale maroon bag, 4 dull brown bags.\nstriped chartreuse bags contain 5 dotted orange bags, 2 wavy black bags.\nwavy plum bags contain 2 dark tomato bags, 5 dim blue bags, 4 shiny violet bags.\nshiny blue bags contain 2 vibrant green bags.\npale tomato bags contain 2 faded chartreuse bags.\nclear fuchsia bags contain 1 light lime bag, 2 shiny lavender bags.\nmuted cyan bags contain 3 vibrant purple bags, 5 posh cyan bags, 4 muted red bags, 4 shiny indigo bags.\ndull cyan bags contain 1 striped black bag.\nlight turquoise bags contain 5 plaid orange bags, 2 striped yellow bags.\nclear lime bags contain 4 drab fuchsia bags.\nvibrant lavender bags contain 4 drab olive bags.\nplaid crimson bags contain 1 vibrant cyan bag, 5 striped gray bags, 2 drab gray bags.\nshiny yellow bags contain 5 dark red bags, 1 shiny crimson bag.\nfaded cyan bags contain 2 striped tan bags, 5 pale magenta bags.\nlight coral bags contain 1 plaid gray bag, 3 plaid magenta bags, 5 faded tan bags, 5 clear blue bags.\npale blue bags contain 5 vibrant silver bags, 5 pale black bags, 4 dotted red bags.\ndim fuchsia bags contain 1 posh lime bag, 2 bright purple bags, 4 clear tan bags, 1 light green bag.\nmuted coral bags contain 5 dark indigo bags, 5 posh plum bags.\nplaid gray bags contain 2 dark crimson bags, 3 vibrant aqua bags, 1 posh lime bag, 5 faded bronze bags.\ndotted cyan bags contain 4 vibrant maroon bags, 3 dull gray bags, 2 dark red bags, 3 pale magenta bags.\nwavy coral bags contain 3 plaid maroon bags, 4 plaid gold bags, 1 posh lavender bag.\nbright crimson bags contain 5 faded bronze bags, 1 dark cyan bag, 4 shiny purple bags, 5 drab gold bags.\ndrab lime bags contain 1 dim cyan bag, 3 shiny coral bags, 3 light crimson bags.\ndrab red bags contain 3 dim silver bags, 3 dim purple bags.\ndark red bags contain 5 muted gold bags.\npale coral bags contain 2 posh violet bags.\nbright purple bags contain 4 mirrored lavender bags, 1 bright lime bag, 4 posh gold bags.\nbright brown bags contain 3 faded aqua bags, 2 dull black bags, 4 striped magenta bags.\nfaded violet bags contain 5 pale maroon bags, 4 wavy maroon bags, 3 dull gray bags, 4 posh gold bags.\ndark crimson bags contain 3 clear silver bags, 3 muted silver bags, 1 faded aqua bag, 5 drab gold bags.\ndotted red bags contain 2 drab gray bags, 4 clear bronze bags.\npale bronze bags contain 4 shiny salmon bags, 5 drab bronze bags, 4 dull gray bags.\nplaid silver bags contain 5 wavy black bags, 1 muted plum bag, 5 posh blue bags.\nposh green bags contain 5 shiny white bags, 5 dotted fuchsia bags, 2 pale black bags.\ndotted orange bags contain 5 plaid red bags.\nbright red bags contain 1 faded beige bag.\npale brown bags contain no other bags.\ndrab magenta bags contain 4 dark indigo bags, 5 striped violet bags, 5 bright tan bags, 4 posh salmon bags.\nstriped indigo bags contain 3 dotted indigo bags, 3 dim lavender bags, 1 wavy yellow bag, 4 pale gold bags.\ndark tomato bags contain 4 wavy yellow bags, 3 vibrant lavender bags, 1 bright black bag.\nwavy tomato bags contain 1 wavy green bag, 2 plaid red bags, 5 wavy yellow bags.\ndotted aqua bags contain 1 drab green bag, 4 clear chartreuse bags, 5 plaid yellow bags.\nfaded black bags contain 5 clear lavender bags.\nmuted gray bags contain 2 pale brown bags, 1 bright tan bag.\nbright green bags contain 1 light olive bag.\nwavy yellow bags contain 5 dark red bags.\ndark coral bags contain 4 mirrored turquoise bags, 3 dark maroon bags.\nshiny green bags contain 3 posh turquoise bags, 3 striped yellow bags, 1 bright lime bag, 4 dotted white bags.\nvibrant teal bags contain 1 shiny magenta bag, 5 light maroon bags.\nshiny bronze bags contain 5 pale brown bags.\nmirrored gold bags contain 3 shiny crimson bags, 3 muted turquoise bags, 4 striped fuchsia bags, 3 vibrant lavender bags.\ndotted salmon bags contain 2 dim lime bags, 4 pale tomato bags.\ndotted gold bags contain 1 drab magenta bag, 4 clear fuchsia bags, 3 shiny violet bags, 2 dark indigo bags.\nmuted olive bags contain 4 mirrored olive bags.\npale green bags contain 2 plaid magenta bags, 2 bright lavender bags.\nclear lavender bags contain 2 vibrant gold bags, 5 clear silver bags.\ndark brown bags contain 4 plaid coral bags, 1 dark tan bag, 3 dotted bronze bags.\ndotted brown bags contain 2 wavy brown bags, 1 wavy beige bag.\nwavy gray bags contain 4 pale turquoise bags.\npale olive bags contain 1 plaid gray bag, 1 striped coral bag.\npale salmon bags contain 4 striped gray bags, 4 striped tomato bags, 1 bright bronze bag.\nvibrant violet bags contain 5 bright red bags, 5 posh coral bags, 1 wavy aqua bag.\nshiny maroon bags contain 5 clear indigo bags, 1 striped lavender bag.\nvibrant red bags contain 5 mirrored beige bags, 5 wavy indigo bags, 2 light coral bags, 1 mirrored salmon bag.\nposh yellow bags contain 5 drab gray bags, 1 dark silver bag, 3 pale maroon bags.\nclear white bags contain 2 drab olive bags.\nposh red bags contain 1 faded teal bag, 2 wavy crimson bags, 4 vibrant beige bags.\nstriped plum bags contain 4 striped purple bags, 2 pale red bags.\ndrab violet bags contain 1 wavy black bag.\nposh orange bags contain 1 pale crimson bag, 5 pale magenta bags, 3 dull olive bags.\nclear bronze bags contain 2 clear aqua bags, 5 mirrored plum bags, 2 pale crimson bags.\nplaid white bags contain 2 faded cyan bags, 3 vibrant green bags, 5 wavy red bags.\nvibrant chartreuse bags contain 1 bright red bag, 2 bright gray bags, 5 faded bronze bags, 3 vibrant crimson bags.\ndim bronze bags contain 4 dull tomato bags, 2 pale gold bags, 2 striped yellow bags.\nplaid yellow bags contain 1 pale plum bag, 4 bright purple bags, 1 bright lavender bag.\nlight orange bags contain 3 drab bronze bags, 5 wavy coral bags, 4 bright purple bags, 3 dark magenta bags.\nfaded magenta bags contain 4 clear tomato bags, 2 drab fuchsia bags, 1 dull gray bag.\nmirrored magenta bags contain 5 vibrant maroon bags, 3 light fuchsia bags, 1 drab olive bag.\ndark teal bags contain 3 shiny chartreuse bags, 5 mirrored fuchsia bags, 4 bright green bags.\ndull teal bags contain 1 bright salmon bag, 1 mirrored salmon bag.\nbright silver bags contain 1 shiny fuchsia bag, 4 dotted blue bags, 5 posh indigo bags.\ndull orange bags contain 2 striped purple bags, 3 muted green bags, 2 vibrant indigo bags.\ndim purple bags contain 1 posh chartreuse bag, 1 dark chartreuse bag, 4 faded indigo bags, 4 bright purple bags.\npale cyan bags contain 1 mirrored gray bag, 2 muted beige bags, 2 plaid lime bags.\nvibrant gray bags contain 2 mirrored lavender bags, 1 light tomato bag, 3 clear indigo bags.\ndark olive bags contain 1 dim fuchsia bag, 4 plaid teal bags, 1 plaid gold bag, 5 plaid coral bags.\nfaded green bags contain 3 pale olive bags, 1 shiny crimson bag, 2 faded silver bags.\nmuted plum bags contain 5 dotted white bags, 2 plaid coral bags, 5 dim purple bags, 2 dim fuchsia bags.\ndim blue bags contain 3 pale silver bags.\ndark orange bags contain 3 dull crimson bags, 2 mirrored tan bags.\nbright blue bags contain 4 dark turquoise bags.\nbright black bags contain 3 mirrored lavender bags, 5 mirrored blue bags, 1 faded violet bag.\nlight olive bags contain 1 pale beige bag, 1 wavy maroon bag, 5 pale crimson bags, 1 striped gray bag.\nshiny teal bags contain 2 bright white bags.\nposh gold bags contain 1 dark blue bag.\ndull crimson bags contain 2 dim bronze bags.\nmuted gold bags contain no other bags.\nstriped turquoise bags contain 1 pale silver bag.\nposh olive bags contain 5 drab salmon bags, 2 striped coral bags.\ndim white bags contain 2 vibrant aqua bags, 3 bright green bags, 5 vibrant maroon bags, 4 dim tomato bags.\npale plum bags contain 5 bright purple bags.\nshiny silver bags contain 1 plaid bronze bag, 3 plaid blue bags.\nmuted lime bags contain 1 dull lime bag.\nshiny plum bags contain 2 bright teal bags, 1 striped yellow bag.\nplaid black bags contain 1 bright purple bag.\ndark gold bags contain 5 faded magenta bags, 1 shiny tan bag, 1 muted crimson bag.\nwavy chartreuse bags contain 5 faded beige bags, 3 faded crimson bags.\nlight cyan bags contain 4 drab chartreuse bags, 1 clear gray bag, 5 clear indigo bags, 4 vibrant black bags.\npale red bags contain 2 dark gray bags.\nclear yellow bags contain 2 drab black bags.\nfaded silver bags contain 4 drab cyan bags, 3 light cyan bags, 5 clear tan bags.\nplaid turquoise bags contain 4 faded silver bags, 4 striped bronze bags, 1 drab purple bag.\npale purple bags contain 5 clear chartreuse bags, 1 plaid bronze bag, 5 clear cyan bags, 3 light tan bags.\nbright fuchsia bags contain 4 wavy lavender bags.\nposh blue bags contain 5 muted gold bags, 3 dark gray bags.\nmuted crimson bags contain 2 light tomato bags, 3 muted white bags, 4 muted brown bags, 3 faded yellow bags.\nstriped fuchsia bags contain 5 vibrant aqua bags.\npale silver bags contain 1 vibrant orange bag, 5 dull gray bags, 3 bright teal bags, 1 plaid tomato bag.\nfaded blue bags contain 4 striped olive bags, 4 dull chartreuse bags.\nstriped beige bags contain 3 drab teal bags, 1 posh gold bag.\nplaid maroon bags contain 5 muted turquoise bags, 2 dull aqua bags.\nlight tan bags contain 1 mirrored gold bag, 3 shiny white bags, 5 faded maroon bags, 4 dim violet bags.\nmirrored plum bags contain 4 wavy beige bags, 2 dark turquoise bags, 2 plaid teal bags, 5 shiny purple bags.\nwavy teal bags contain 3 vibrant cyan bags, 3 plaid coral bags.\nstriped bronze bags contain 3 dotted brown bags, 3 vibrant cyan bags.\nclear black bags contain 3 dim chartreuse bags, 2 vibrant beige bags, 2 clear cyan bags.\ndrab purple bags contain 2 plaid red bags, 2 vibrant aqua bags.\nmirrored white bags contain 2 vibrant gray bags.\nshiny coral bags contain no other bags.\ndotted lavender bags contain 2 light brown bags.\ndark salmon bags contain 2 dark maroon bags, 4 dark teal bags.\nwavy bronze bags contain 3 striped teal bags.\nmirrored maroon bags contain 3 light green bags, 1 light chartreuse bag.\nvibrant black bags contain 3 clear bronze bags, 2 dotted beige bags, 2 dark crimson bags.\nclear indigo bags contain 1 light fuchsia bag, 2 striped coral bags.\nmirrored black bags contain 5 plaid lime bags, 1 clear plum bag.\npale chartreuse bags contain 5 plaid crimson bags.\ndim black bags contain 4 dotted blue bags, 2 drab indigo bags, 3 clear indigo bags.\nstriped lime bags contain 5 light fuchsia bags, 1 dim silver bag.\nclear magenta bags contain 4 striped bronze bags, 3 posh orange bags, 4 dotted olive bags, 4 dull cyan bags.\ndrab chartreuse bags contain 4 vibrant gold bags, 4 vibrant orange bags, 3 striped red bags, 4 drab olive bags.\nlight yellow bags contain 2 dark green bags, 1 light fuchsia bag, 3 bright orange bags.\ndrab coral bags contain 5 light red bags, 4 posh plum bags, 4 drab crimson bags, 1 faded magenta bag.\ndull brown bags contain 2 plaid cyan bags, 4 dull aqua bags, 5 posh cyan bags.\ndotted plum bags contain 4 dull brown bags.\nvibrant plum bags contain 1 mirrored plum bag, 5 vibrant olive bags, 5 clear gray bags, 3 mirrored tomato bags.\nmirrored silver bags contain 2 faded indigo bags, 3 striped yellow bags, 3 muted tomato bags.\npale teal bags contain 5 mirrored white bags, 4 wavy plum bags, 4 pale indigo bags, 2 bright turquoise bags.\ndotted black bags contain 3 plaid coral bags.\ndrab gray bags contain 4 plaid red bags.\nstriped white bags contain 2 vibrant teal bags, 3 posh aqua bags, 4 faded cyan bags.\nplaid green bags contain 3 mirrored chartreuse bags, 4 wavy yellow bags.\nposh chartreuse bags contain 5 clear gray bags, 1 striped lavender bag, 2 striped coral bags.\nposh turquoise bags contain 4 bright lime bags, 2 vibrant bronze bags.\nmuted silver bags contain 2 dull gray bags, 3 plaid tomato bags, 5 light green bags.\nmuted salmon bags contain 4 dotted brown bags, 5 dim lavender bags, 3 muted violet bags.\ndotted coral bags contain 4 drab cyan bags.\nstriped teal bags contain 2 shiny tan bags, 3 dark turquoise bags, 3 wavy beige bags.\nvibrant coral bags contain 3 vibrant aqua bags, 2 pale brown bags.\nlight indigo bags contain 2 dark cyan bags, 5 drab chartreuse bags, 5 clear tomato bags.\ndim tomato bags contain 2 pale lime bags, 2 muted brown bags, 4 dull gray bags.\ndull gray bags contain 3 dotted white bags, 3 drab olive bags, 3 plaid red bags, 2 plaid blue bags.\nbright beige bags contain 5 posh gold bags, 2 dull green bags, 1 wavy brown bag.\ndull coral bags contain 2 shiny gold bags, 2 dark red bags, 4 faded chartreuse bags, 3 vibrant orange bags.\ndark blue bags contain 3 dotted white bags, 5 light green bags, 5 vibrant gold bags, 4 mirrored lavender bags.\nclear turquoise bags contain 5 striped lavender bags, 5 plaid lime bags, 3 clear aqua bags, 1 mirrored salmon bag.\ndull turquoise bags contain 2 vibrant fuchsia bags, 2 light gold bags, 4 striped gray bags.\nclear aqua bags contain 1 mirrored lavender bag.\ndrab maroon bags contain 1 mirrored indigo bag, 3 plaid crimson bags, 4 faded aqua bags, 3 clear violet bags.\ndull black bags contain 1 shiny tan bag.\nmuted tomato bags contain 4 light green bags.\nmuted lavender bags contain 3 pale maroon bags, 2 shiny lavender bags, 1 dark beige bag, 1 light red bag.\ndotted maroon bags contain 3 dotted magenta bags, 4 drab gray bags, 1 clear gray bag.\nmuted turquoise bags contain 5 plaid orange bags, 2 vibrant bronze bags.\nstriped violet bags contain 2 plaid lavender bags, 4 clear tomato bags, 4 striped crimson bags.\nposh purple bags contain 1 plaid blue bag, 2 pale tan bags, 5 light brown bags, 3 faded indigo bags.\nfaded chartreuse bags contain 5 mirrored lavender bags, 2 dark red bags, 2 dull aqua bags.\nplaid fuchsia bags contain 4 mirrored maroon bags, 1 bright blue bag.\nfaded teal bags contain 4 bright lavender bags, 5 light green bags, 2 striped yellow bags, 5 drab olive bags.\nmirrored gray bags contain 2 muted green bags, 5 dim cyan bags, 2 drab yellow bags.\nposh bronze bags contain 1 drab blue bag.\ndrab yellow bags contain 1 bright lavender bag, 3 vibrant aqua bags, 5 bright beige bags, 2 dull olive bags.\nfaded salmon bags contain 5 muted salmon bags.\nmirrored purple bags contain 2 mirrored turquoise bags, 1 pale bronze bag.\nshiny gray bags contain 2 dark bronze bags, 5 drab yellow bags, 2 clear salmon bags.\nposh gray bags contain 4 vibrant tan bags, 5 wavy maroon bags, 1 faded crimson bag.\nvibrant cyan bags contain 5 dark indigo bags, 3 bright purple bags, 1 dotted white bag, 3 muted gold bags.\ndotted fuchsia bags contain 2 plaid olive bags.\nshiny crimson bags contain 4 vibrant coral bags, 2 light brown bags, 1 wavy tan bag, 1 clear tomato bag.\nstriped gold bags contain 5 vibrant olive bags, 4 vibrant tomato bags, 1 wavy red bag, 5 bright orange bags.\ndotted magenta bags contain 5 striped yellow bags, 2 dull brown bags, 4 clear silver bags.\ndull violet bags contain 3 posh maroon bags, 1 drab silver bag.\ndrab gold bags contain 2 vibrant maroon bags, 5 posh plum bags, 1 shiny indigo bag.\ndull lavender bags contain 4 dull silver bags, 4 bright aqua bags, 2 striped bronze bags.\nfaded gray bags contain 1 dim white bag, 1 bright bronze bag, 4 drab violet bags.\ndotted lime bags contain 1 striped white bag, 4 light turquoise bags, 2 light maroon bags.\nmirrored chartreuse bags contain 3 dull coral bags, 1 dark gray bag, 1 bright red bag, 4 posh blue bags.\ndrab silver bags contain 2 striped violet bags, 1 light red bag.\ndark beige bags contain 1 posh maroon bag, 1 dark maroon bag, 5 shiny tan bags, 3 faded chartreuse bags.\ndim lavender bags contain 1 dim yellow bag, 3 dark coral bags, 1 wavy plum bag.\nshiny olive bags contain 4 pale gray bags, 5 striped coral bags, 5 dotted green bags.\ndim green bags contain 5 shiny purple bags, 4 mirrored lavender bags.\nclear tomato bags contain 1 clear aqua bag, 4 bright orange bags.\nstriped orange bags contain 4 striped plum bags.\ndrab green bags contain 3 shiny coral bags, 3 bright purple bags.\nshiny chartreuse bags contain 1 faded violet bag, 5 drab salmon bags, 5 vibrant orange bags.\nshiny magenta bags contain 2 plaid crimson bags.\ndim magenta bags contain 1 dim fuchsia bag, 5 dark red bags, 2 shiny crimson bags.\ndull white bags contain 5 pale tan bags, 1 shiny teal bag, 5 plaid cyan bags, 4 pale green bags.\nposh violet bags contain 4 vibrant orange bags, 5 mirrored fuchsia bags, 2 vibrant coral bags, 4 bright purple bags.\ndotted crimson bags contain 5 vibrant gray bags, 2 dark red bags, 5 vibrant bronze bags.\ndark black bags contain 2 pale maroon bags, 2 striped maroon bags.\nplaid teal bags contain 2 shiny coral bags, 1 posh gold bag.\nmuted white bags contain 5 pale plum bags, 3 plaid teal bags.\ndim yellow bags contain 4 dark olive bags, 3 dim lime bags, 5 bright crimson bags, 1 dim fuchsia bag.\ndark lime bags contain 5 posh plum bags, 4 dim tan bags, 3 bright indigo bags.\nmuted teal bags contain 4 vibrant purple bags, 5 mirrored orange bags, 3 drab green bags.\nvibrant white bags contain 3 pale plum bags, 2 bright orange bags, 4 posh bronze bags, 2 light yellow bags.\nplaid orange bags contain 2 drab blue bags, 5 plaid lavender bags.\ndim olive bags contain 2 vibrant bronze bags, 5 pale violet bags, 1 pale magenta bag, 4 dim salmon bags.\nlight black bags contain 3 shiny purple bags, 4 faded tan bags, 5 light gold bags, 4 vibrant olive bags.\npale orange bags contain 5 posh maroon bags, 2 clear olive bags, 2 muted beige bags, 2 dim violet bags.\ndull bronze bags contain 5 posh gold bags, 5 dark blue bags, 4 vibrant gold bags.\nfaded aqua bags contain 4 striped fuchsia bags, 5 shiny white bags.\ndotted blue bags contain 1 bright salmon bag.\npale maroon bags contain 1 light green bag, 3 posh gold bags, 2 mirrored lavender bags.\nplaid blue bags contain 5 dull bronze bags, 4 drab blue bags.\nposh cyan bags contain 1 shiny indigo bag, 1 bright purple bag, 5 dotted white bags, 3 vibrant orange bags.\ndim turquoise bags contain 4 clear purple bags, 3 mirrored cyan bags, 4 striped bronze bags.\ndull fuchsia bags contain 4 light black bags.\nstriped black bags contain 4 shiny white bags, 3 mirrored blue bags.\nmuted tan bags contain 2 plaid gold bags, 1 vibrant lavender bag, 5 plaid tomato bags, 1 dull silver bag.\nplaid tomato bags contain 1 wavy maroon bag, 5 muted brown bags, 4 faded violet bags.\nlight tomato bags contain 5 pale maroon bags, 3 shiny indigo bags, 1 dull bronze bag, 1 light green bag.\nvibrant gold bags contain no other bags.\nshiny lime bags contain 1 posh plum bag, 3 vibrant beige bags, 1 clear plum bag.\ndrab turquoise bags contain 3 pale beige bags, 5 dull beige bags, 3 dark black bags.\nbright violet bags contain 2 plaid coral bags, 1 vibrant lime bag, 3 pale silver bags.\ndotted white bags contain no other bags.\ndark green bags contain 1 vibrant aqua bag, 3 posh cyan bags.\ndim cyan bags contain 4 light green bags.\nstriped aqua bags contain 2 dotted magenta bags.\nposh fuchsia bags contain 4 dull beige bags, 4 light turquoise bags, 5 pale violet bags, 1 pale beige bag.\nclear brown bags contain 4 wavy yellow bags, 1 shiny indigo bag, 5 wavy maroon bags, 1 mirrored lavender bag.\ndrab black bags contain 2 striped crimson bags.\nvibrant turquoise bags contain 3 dull black bags.\nmuted purple bags contain 4 wavy cyan bags.\nvibrant bronze bags contain 1 drab olive bag.\nlight red bags contain 3 vibrant cyan bags, 2 striped gray bags, 4 plaid yellow bags.\npale turquoise bags contain 4 mirrored lavender bags, 2 posh maroon bags, 2 pale gold bags, 1 clear gray bag.\nshiny aqua bags contain 4 clear silver bags, 3 vibrant lavender bags, 4 wavy olive bags.\ndrab teal bags contain 3 faded tan bags.\nmirrored turquoise bags contain 4 clear aqua bags, 3 striped crimson bags, 3 dull black bags.\nvibrant beige bags contain 3 vibrant tan bags, 5 vibrant fuchsia bags.\ndotted bronze bags contain 3 muted lavender bags, 4 drab crimson bags, 1 dotted red bag.\nmuted magenta bags contain 2 bright teal bags, 4 dim olive bags, 3 posh brown bags, 1 striped gray bag.\nstriped red bags contain no other bags.\npale lavender bags contain 5 mirrored maroon bags, 3 pale gray bags.\ndim brown bags contain 2 dull gray bags, 4 shiny purple bags, 4 vibrant gold bags.\nmuted yellow bags contain 2 posh teal bags, 4 vibrant cyan bags.\nposh tomato bags contain 4 shiny silver bags, 2 mirrored lavender bags.\nfaded yellow bags contain 1 muted brown bag, 1 light green bag, 4 pale lime bags.\nvibrant orange bags contain 4 shiny coral bags, 3 drab tan bags, 1 dark blue bag.\ndotted beige bags contain 1 dim olive bag, 2 pale lime bags, 1 plaid lavender bag, 2 wavy brown bags.\npale magenta bags contain 2 pale brown bags, 2 faded violet bags, 1 dull gray bag, 2 dim green bags.\nplaid coral bags contain 1 wavy brown bag.\ndrab indigo bags contain 5 vibrant plum bags, 1 striped crimson bag, 2 dim violet bags.\npale crimson bags contain 2 wavy brown bags, 1 light green bag, 3 plaid orange bags.\nfaded tomato bags contain 4 posh black bags, 1 mirrored orange bag.\ndim chartreuse bags contain 1 pale lime bag.\nbright orange bags contain 5 plaid blue bags.\nlight crimson bags contain 3 drab gold bags.\nvibrant aqua bags contain 5 wavy white bags.\nwavy beige bags contain 1 mirrored beige bag, 3 vibrant maroon bags, 3 light green bags.\ndotted gray bags contain 1 dark cyan bag, 5 mirrored fuchsia bags.\ndim lime bags contain 5 vibrant maroon bags, 3 striped coral bags, 2 plaid crimson bags, 5 dotted magenta bags.\nfaded purple bags contain 3 muted brown bags, 2 clear plum bags, 3 posh plum bags.\ndim orange bags contain 2 dotted lime bags, 3 posh violet bags, 4 dotted indigo bags.\nfaded indigo bags contain 3 light brown bags, 3 plaid maroon bags, 1 bright aqua bag, 2 plaid red bags.\nshiny salmon bags contain 1 drab bronze bag, 5 faded yellow bags, 3 vibrant gold bags.\nlight lime bags contain 1 vibrant plum bag.\nmuted orange bags contain 5 posh red bags.\nvibrant fuchsia bags contain 5 drab gray bags, 4 clear chartreuse bags, 2 posh blue bags.\nfaded turquoise bags contain 2 vibrant indigo bags, 5 dotted indigo bags, 3 mirrored silver bags.\nwavy indigo bags contain 3 vibrant white bags, 5 clear chartreuse bags.\nstriped brown bags contain 4 dull aqua bags, 3 bright yellow bags.\ndotted violet bags contain 4 mirrored beige bags, 4 striped gray bags, 2 dim chartreuse bags, 3 dim brown bags.\ndark chartreuse bags contain 5 dark turquoise bags, 4 drab gold bags.\ndrab tomato bags contain 3 striped magenta bags, 5 shiny tomato bags.\nstriped gray bags contain 3 shiny coral bags, 4 pale brown bags, 5 light green bags.\nwavy olive bags contain 5 shiny silver bags, 3 plaid blue bags, 5 shiny coral bags.\nmirrored tomato bags contain 5 clear plum bags, 3 bright aqua bags, 4 bright lime bags.\ndark magenta bags contain 2 posh lavender bags, 5 light brown bags.\nshiny cyan bags contain 2 drab yellow bags, 4 dotted bronze bags.\nlight white bags contain 3 wavy turquoise bags, 3 vibrant beige bags.\nshiny indigo bags contain 4 pale brown bags, 1 drab olive bag, 2 dark red bags, 1 striped gray bag.\nwavy lime bags contain 3 dark cyan bags, 1 vibrant green bag.\nvibrant brown bags contain 4 light bronze bags, 1 drab black bag.\ndrab tan bags contain 1 striped gray bag.\ndotted yellow bags contain 5 dotted coral bags, 4 striped magenta bags.\nshiny brown bags contain 3 dull beige bags, 2 striped silver bags.\ndull chartreuse bags contain 3 pale black bags.\npale aqua bags contain 1 posh turquoise bag, 3 vibrant aqua bags, 4 shiny white bags.\nmuted indigo bags contain 4 dotted aqua bags, 3 striped black bags, 3 pale lime bags, 3 dotted violet bags.\nmirrored yellow bags contain 1 dim chartreuse bag, 3 pale black bags.\nposh beige bags contain 1 plaid bronze bag, 5 vibrant tan bags, 3 posh tomato bags.\ndim plum bags contain 3 plaid gold bags, 4 dim chartreuse bags, 1 pale green bag.\nwavy violet bags contain 5 striped turquoise bags, 4 drab chartreuse bags, 4 plaid maroon bags.\ndim crimson bags contain 1 posh chartreuse bag.\ndull salmon bags contain 3 muted black bags.\nvibrant blue bags contain 4 dark white bags, 5 mirrored plum bags.\nbright gray bags contain 4 bright lavender bags.\nbright plum bags contain 4 bright tomato bags, 3 light gold bags, 2 bright aqua bags, 4 striped red bags.\nclear chartreuse bags contain 1 plaid yellow bag.\nshiny tan bags contain 4 pale maroon bags.\nmirrored brown bags contain 2 pale maroon bags, 3 dark beige bags, 1 mirrored lime bag, 4 bright purple bags.\nplaid plum bags contain 5 pale magenta bags, 2 mirrored lavender bags, 2 plaid gold bags.\nfaded crimson bags contain 4 plaid maroon bags, 1 light turquoise bag, 5 posh purple bags, 1 wavy beige bag.\nclear blue bags contain 3 dim salmon bags, 2 wavy fuchsia bags, 3 vibrant olive bags.\nlight aqua bags contain 4 posh aqua bags, 4 striped black bags.\nbright chartreuse bags contain 2 plaid olive bags, 4 striped lavender bags.\nplaid tan bags contain 1 vibrant aqua bag.\nfaded red bags contain 1 plaid maroon bag, 2 muted coral bags, 4 light brown bags.\nclear gold bags contain 4 striped red bags, 3 shiny gold bags, 4 light green bags, 4 dark blue bags.\nlight teal bags contain 5 muted tomato bags, 3 dim cyan bags.\npale gold bags contain 4 dim fuchsia bags, 4 dark indigo bags.\nfaded maroon bags contain 5 dim silver bags, 4 vibrant cyan bags, 3 plaid coral bags, 3 bright purple bags.\nplaid red bags contain 2 dull bronze bags, 5 bright lime bags.\nmirrored blue bags contain 2 plaid coral bags, 5 dull indigo bags, 4 drab chartreuse bags, 3 vibrant gold bags.\nfaded orange bags contain 2 wavy green bags, 5 bright purple bags, 1 dark cyan bag.\nmirrored fuchsia bags contain 5 light green bags.\ndark turquoise bags contain 4 bright white bags.\nshiny violet bags contain 1 pale magenta bag.\nshiny tomato bags contain 2 pale violet bags, 4 pale brown bags.\nposh magenta bags contain 2 shiny tan bags, 2 vibrant tan bags.\nplaid magenta bags contain 1 drab chartreuse bag, 1 vibrant orange bag, 2 plaid red bags, 2 faded yellow bags.\nlight blue bags contain 5 dotted bronze bags, 3 dotted brown bags.\nplaid indigo bags contain 3 bright orange bags.\nstriped tomato bags contain 2 striped yellow bags.\nshiny purple bags contain 5 dull bronze bags, 3 dull aqua bags.\nposh white bags contain 1 plaid teal bag, 1 striped blue bag, 3 posh magenta bags.\nclear violet bags contain 1 drab bronze bag.\nmuted blue bags contain 3 dotted bronze bags, 2 light olive bags.\nmuted chartreuse bags contain 4 posh purple bags, 1 dull magenta bag, 1 dim silver bag, 5 bright indigo bags.\ndark purple bags contain 3 faded aqua bags, 2 dull beige bags, 4 plaid coral bags, 1 pale black bag.\nwavy silver bags contain 5 muted salmon bags, 2 bright salmon bags, 1 posh magenta bag, 2 dim brown bags.\nposh black bags contain 1 dim tomato bag.\nbright lavender bags contain 1 vibrant crimson bag, 3 posh turquoise bags, 5 faded yellow bags.\ndull green bags contain 3 faded chartreuse bags, 2 faded beige bags, 2 shiny coral bags.\nposh crimson bags contain 5 bright red bags, 3 clear brown bags, 4 shiny salmon bags, 3 vibrant orange bags.\nplaid gold bags contain 2 plaid tomato bags, 4 muted turquoise bags, 4 clear salmon bags.\nbright coral bags contain 5 mirrored lavender bags, 1 bright yellow bag, 4 clear black bags, 5 posh lavender bags.\nwavy black bags contain 3 dim salmon bags.\nclear silver bags contain 4 plaid magenta bags.\nstriped lavender bags contain 3 muted gold bags, 4 light brown bags, 2 vibrant green bags.\ndull blue bags contain 2 plaid violet bags, 5 vibrant white bags.\ndull olive bags contain 2 clear chartreuse bags, 1 pale violet bag, 2 vibrant crimson bags.\nwavy tan bags contain 4 posh cyan bags, 5 clear silver bags.\nbright salmon bags contain 1 drab tan bag, 1 dull indigo bag.\nwavy turquoise bags contain 1 dark maroon bag.\ndrab olive bags contain 2 muted gold bags, 5 dark blue bags, 4 mirrored lavender bags.\ndrab cyan bags contain 1 drab blue bag, 1 vibrant bronze bag.\npale beige bags contain 5 clear gold bags, 3 dim tomato bags, 5 posh crimson bags, 2 drab gray bags.\nbright teal bags contain 1 wavy maroon bag, 4 dim green bags, 2 shiny tan bags.\ndrab aqua bags contain 3 clear cyan bags, 3 dull silver bags.\nshiny white bags contain 4 dim green bags, 5 faded violet bags, 5 posh cyan bags, 4 pale brown bags.\nbright magenta bags contain 1 bright indigo bag.\nbright yellow bags contain 1 dark red bag, 2 posh cyan bags.\ndotted tomato bags contain 4 drab salmon bags, 1 shiny coral bag, 1 faded beige bag, 2 shiny magenta bags.\nvibrant silver bags contain 5 clear orange bags.\ndark aqua bags contain 3 bright tan bags, 3 dim cyan bags, 1 plaid chartreuse bag, 1 clear orange bag.\nshiny red bags contain 4 clear tomato bags.\nplaid lime bags contain 3 mirrored lavender bags, 4 drab green bags.\nshiny gold bags contain 4 striped yellow bags, 3 drab olive bags, 1 bright purple bag.\nbright maroon bags contain 5 dull indigo bags, 1 mirrored lavender bag, 5 posh salmon bags.\nlight bronze bags contain 3 dim tan bags, 4 dotted brown bags, 1 drab green bag.\nlight fuchsia bags contain 3 shiny crimson bags, 2 bright salmon bags.\nfaded plum bags contain 3 dull brown bags.\nposh silver bags contain 3 wavy bronze bags, 2 plaid green bags, 5 drab fuchsia bags, 1 wavy red bag.\nbright tomato bags contain 2 bright black bags, 2 clear brown bags.\ndull gold bags contain 1 dark salmon bag.\nclear plum bags contain 1 mirrored tan bag, 1 shiny coral bag, 2 clear tan bags.\npale tan bags contain 1 bright red bag, 5 light yellow bags, 4 vibrant olive bags.\nplaid salmon bags contain 3 drab maroon bags, 1 posh black bag, 1 vibrant blue bag.\nstriped silver bags contain 4 faded coral bags, 5 clear black bags, 4 dark chartreuse bags, 5 pale tan bags.\nfaded brown bags contain 5 wavy black bags.\nfaded gold bags contain 5 plaid maroon bags, 4 posh blue bags, 4 posh crimson bags, 1 bright teal bag.\ndull tomato bags contain 4 muted coral bags, 5 drab tan bags.\ndotted turquoise bags contain 5 light gray bags, 4 plaid cyan bags, 5 dark lime bags.\ndull indigo bags contain 4 plaid red bags, 5 bright aqua bags.\ndull yellow bags contain 4 muted crimson bags, 5 bright black bags.\nstriped yellow bags contain 4 dark red bags, 3 vibrant crimson bags, 4 vibrant maroon bags, 1 mirrored lavender bag.\ndotted indigo bags contain 4 drab turquoise bags, 2 posh purple bags.\nmirrored aqua bags contain 4 plaid blue bags, 1 dark white bag, 4 bright magenta bags, 5 drab lime bags.\nstriped blue bags contain 5 dotted red bags, 3 light fuchsia bags, 3 light crimson bags, 5 striped yellow bags.\nshiny orange bags contain 1 shiny crimson bag, 4 vibrant silver bags.\ndim maroon bags contain 2 bright lavender bags.\nwavy gold bags contain 2 muted chartreuse bags.\nbright bronze bags contain 1 posh crimson bag, 4 wavy red bags.\ndark fuchsia bags contain 2 pale tan bags, 3 posh orange bags, 1 shiny chartreuse bag.\npale violet bags contain 1 drab green bag, 1 drab tan bag.\nbright turquoise bags contain 2 posh gold bags, 3 dull green bags, 2 pale tan bags.\nwavy salmon bags contain 5 plaid olive bags, 5 posh cyan bags.\nwavy magenta bags contain 5 plaid chartreuse bags, 5 muted bronze bags.\ndark violet bags contain 3 dim chartreuse bags, 1 faded aqua bag.\ndull silver bags contain 5 plaid orange bags.\nvibrant purple bags contain 2 mirrored turquoise bags, 5 plaid gray bags.\ndark lavender bags contain 4 dull red bags.\ndark silver bags contain 1 posh brown bag, 4 wavy white bags, 5 muted fuchsia bags, 1 clear plum bag.\ndark gray bags contain 4 wavy white bags, 5 plaid lavender bags, 2 dull aqua bags, 4 bright purple bags.\npale indigo bags contain 5 plaid green bags, 2 dull aqua bags.\nposh maroon bags contain 4 plaid magenta bags, 4 bright orange bags.\nmuted violet bags contain 4 muted brown bags.\nmirrored violet bags contain 3 dim tomato bags.\nposh lavender bags contain 3 muted turquoise bags, 4 wavy maroon bags.\nposh tan bags contain 4 muted coral bags, 4 shiny beige bags, 5 light red bags, 4 faded beige bags.\nvibrant crimson bags contain 4 mirrored lavender bags, 2 mirrored beige bags, 1 striped red bag.\nbright white bags contain 3 striped fuchsia bags, 2 mirrored tan bags, 4 dull bronze bags, 4 posh plum bags.\nbright cyan bags contain 5 light cyan bags, 3 vibrant crimson bags, 1 faded cyan bag.\nclear beige bags contain 1 plaid yellow bag, 5 drab white bags, 2 drab lime bags, 5 dim orange bags.\nmirrored coral bags contain 2 light tomato bags, 3 wavy bronze bags, 3 mirrored fuchsia bags.\nvibrant olive bags contain 2 posh turquoise bags, 3 mirrored fuchsia bags, 4 dotted beige bags.\nshiny black bags contain 2 faded coral bags, 4 plaid indigo bags, 3 dark violet bags, 4 posh indigo bags.\nmirrored green bags contain 4 bright teal bags.\nclear purple bags contain 1 posh turquoise bag, 3 dull black bags, 3 faded violet bags.\nvibrant tan bags contain 4 drab blue bags.\nmirrored crimson bags contain 2 mirrored chartreuse bags, 4 muted red bags, 4 vibrant purple bags.\nposh teal bags contain 4 dim fuchsia bags, 2 shiny tan bags, 2 dull indigo bags, 3 pale plum bags.\nstriped salmon bags contain 3 plaid fuchsia bags, 3 muted teal bags.\nwavy fuchsia bags contain 1 drab green bag, 2 dim salmon bags, 2 light crimson bags, 4 muted turquoise bags.\nclear cyan bags contain 4 mirrored cyan bags, 1 dull bronze bag, 4 dim brown bags.\nposh coral bags contain 3 pale beige bags, 2 plaid salmon bags.\nshiny beige bags contain 5 faded violet bags.\nwavy cyan bags contain 2 posh lime bags, 2 dotted white bags, 4 dim lime bags.\ndark tan bags contain 5 clear green bags, 1 light cyan bag, 5 light chartreuse bags, 1 dark lime bag.\nclear coral bags contain 2 wavy beige bags, 2 muted cyan bags, 5 dark turquoise bags, 4 posh green bags.\ndrab orange bags contain 5 wavy salmon bags, 5 wavy olive bags, 3 posh green bags.\nvibrant maroon bags contain no other bags.\ndrab beige bags contain 1 dark red bag.\nmuted bronze bags contain 4 striped teal bags, 5 faded brown bags, 4 light silver bags, 3 muted beige bags.\nmuted fuchsia bags contain 2 shiny coral bags, 4 dull tomato bags, 1 wavy teal bag, 5 faded tan bags.\nplaid brown bags contain 5 dull magenta bags.\ndim salmon bags contain 3 mirrored lavender bags, 2 shiny salmon bags, 4 plaid lavender bags.\nwavy purple bags contain 1 shiny yellow bag, 1 dim plum bag.\nbright aqua bags contain 4 plaid red bags, 5 pale lime bags, 5 bright lime bags.\nvibrant lime bags contain 5 light green bags.\ndark maroon bags contain 5 drab bronze bags, 4 bright red bags, 1 posh cyan bag.\nwavy red bags contain 2 mirrored beige bags, 5 muted crimson bags, 5 vibrant orange bags, 3 posh turquoise bags.\ndrab brown bags contain 1 faded tan bag, 3 vibrant maroon bags.")
(def t "light red bags contain 1 bright white bag, 2 muted yellow bags.\ndark orange bags contain 3 bright white bags, 4 muted yellow bags.\nbright white bags contain 1 shiny gold bag.\nmuted yellow bags contain 2 shiny gold bags, 9 faded blue bags.\nshiny gold bags contain 1 dark olive bag, 2 vibrant plum bags.\ndark olive bags contain 3 faded blue bags, 4 dotted black bags.\nvibrant plum bags contain 5 faded blue bags, 6 dotted black bags.\nfaded blue bags contain no other bags.\ndotted black bags contain no other bags.")
(def t2 "shiny gold bags contain 2 dark red bags.\ndark red bags contain 2 dark orange bags.\ndark orange bags contain 2 dark yellow bags.\ndark yellow bags contain 2 dark green bags.\ndark green bags contain 2 dark blue bags.\ndark blue bags contain 2 dark violet bags.\ndark violet bags contain no other bags.")

(defn parse-one [s]
  (let [[from & tos] (map first (re-seq #"(?:(?:(\w+ \w+) bag)|(\d+))" s))
        tos (->> tos (partition 2))]
    (reduce
      (fn [m [n bag]]
        (assoc-in m [from bag] (read-string n)))
      {from {}}
      tos)))

(defn forward-db [i]
  (->> i (str/split-lines) (map parse-one) (reduce merge)))

(defn backward-db [m]
  (reduce-kv
    (fn [m k v]
      (reduce
        (fn [m v]
          (update m v (fnil conj #{}) k))
        m (keys v)))
    {} m))



(defn search [s backward-db]
  (loop [done #{}
         todo [s]]
    (if (empty? todo)
      done
      (let [x (first todo)
            todo (rest todo)
            items (backward-db x)]
        (recur (into done items) (into todo items))))))

;;p1
(count (search "shiny gold bag" (backward-db (forward-db i))))

;p2
(let [M (forward-db t2)]
  (loop [total 0
         todo [["shiny gold bag" 1]]]
    (if (empty? todo)
      (dec total)
      (let [[[x n] & todo] todo]
        (recur
          (+ total n)
          (into todo (map (fn [[xx nn]] [xx (* n nn)]) (M x))))))))

;p2 2
(defn step [DB n content]
  (->> content
    (map (fn [[bag amount]] (step DB amount (DB bag))))
    (reduce +)
    (* n)
    (+ n)))

(let [DB (forward-db i)]
  (dec (step DB 1 (DB "shiny gold bag"))))