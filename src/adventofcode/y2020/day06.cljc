(ns adventofcode.y2020.day06
  (:require
   [clojure.string :as str]
   [clojure.set :as set]))

(def input "kimczeyaqwbs\npwmsf\nwgmfus\nlofjwnms\nrwsum\n\nhndgqzkvtyxoifsemrpjaul\nbrfzpmgesjihuvxqyontdaklw\nfakydqpuriljosvhmxtezng\nqerstgynxplkhmoiuvzdjaf\n\npxygsaovwnuqthke\nygqnepvuxhswtao\n\no\no\n\nuogzqatjwyihskpdlen\nwkidlyahtzougjpnseq\nylputjwoaizqdekgnsh\n\ndiejltaxoqgfsckymvpwzu\nvtypfnsojcqilbuazg\n\nlkvqinopx\ngptazfonbq\noqahpnz\nqpowmnb\nneqodhjp\n\nhzqgiaksvouycjpwet\nizakeohctsuypgjvwq\neojhzasvqitygcpwuk\njkstuviacphgwezyoq\n\nvoksmqfalh\nfywojdbrvpax\ncefovustagzn\n\nwdkcuiyegrl\nzmnixqbeyw\n\nsia\niaqpwc\njitvxgflyob\nei\ndmic\n\nnixkt\nikcxn\nxifkn\nnkix\n\nbixymepogkvfj\nsbunqihy\nabcqyris\n\nyvhwcort\nyhtcwrvo\nctwyhovr\nwcrvhtyo\n\nbjvircqefhlyznsd\njctyeviqfrhsxzmbl\n\njgrevymwlqbpunxtsfhoz\nnbxpvrmlguijhzes\nmjhlgexnvspuzrdb\npvlkjeszrahcgmxdunb\n\nepvajuyqngtfwdkc\nvfpscguyjxdzqwaoin\nlthjymuwpagvqdcnf\nbpvkawydfcgujqn\n\nbitunayfdscvl\nsfzgnmlothwcypqivd\nybrtcslvnkfdi\n\nafkcyoimgslu\nbdnjpxzt\nedvrqhw\n\ny\ny\ny\ny\ny\n\nbmupew\npxwvabek\n\nsbwlutnocqydxvjamz\nhlcjwtkrxpfubdiyesvgoq\n\nraoskztv\nqtepkx\n\nhvlygxtki\nxltzfhim\ntihqfxl\n\nfjoaqxhdwnkprb\nszktfnhwoalvqbdicmju\nyefnhbgaokwqdj\n\nojmequvklwyazptnbfshcdi\nnhvqyoegrwafdlmkbitsju\n\nbhm\nmh\nmoh\nhm\n\nlsi\nlxsi\nsnli\n\nvgabusj\nbjsuga\nusjbag\najugsb\n\nlgukxonpdhf\nlqkopfxrghd\nchxoagdlpf\ncpdvqhgklnfobx\npgxzhldof\n\nbf\nznb\n\nhpbftljasre\nmvrecz\nrwcienv\nuoerxyw\n\ngkdmxz\nxgkam\nyqtxkrmjbgh\n\nbtpsawelqygnkco\nkwgctopbslqymane\nwecgsoapybktnlq\nrwlsketoagcynbpq\n\nwukmshcei\nsyciheuk\n\nsdijbqf\nsbiaq\nsqhtlpibn\n\nlvpmifrzqcyugwehn\nwefzpvmhguiqclyrn\nvzwfgrlpqihumenyc\nutfmcivneqypgzlwrh\n\nigzcfvdokapnjuty\noijnzykcvpgfdut\noiscndvjkugptfazy\ngmdfpobuikyhtzvncje\n\nbjzdqmi\ndqmbjiz\nqjdzkbmi\nzdjamqib\nidbzqjvm\n\nmgkodxusbcelt\nfluxbecodmgskt\ntuedkbyomxlscgz\n\nvgbjkaih\nvsiwejlhboa\n\nfqhzpsnymxblvitu\nilavdqxyzengr\nkyzdqgniolxcv\n\nzebsyhrpakdlvnwifuxt\ndbfzlhxqjvngkormpius\n\nvfq\nfnbzqs\nfq\nqhfck\ndqfv\n\ntxawg\nzirtlkucova\naejtwnyd\n\npjvfoihwaqxrken\nakrfxqnojewphiv\nbjhfvwkpesaoiqrngx\noipwjqxhfkvanerl\n\nkjv\nkvj\nvkj\nvkj\njvk\n\nqglnpszvbt\nlntbvsqzc\nblsnqzftv\nkoztbsnqvl\n\nqlzcoratdnf\nonmzcyrdqftla\nqothflgwzcsvnuardp\ntdaoenzfbckrqyl\noneflrtaqcdz\n\ngjparsnyhfcwoxmq\nadinpuyfcwrhxkbemzo\nrhwncxafgopmy\npaytxcvhrnomwfl\nomncwpyhxrfa\n\nzosxerad\nzdsxqeoj\ndtkxfozcse\nhzeduxaso\n\ndkbvyancmhtjfuqgilsrx\nubjdyqhgcszafxnimvkpoltr\ncixbehstjknafdlrgvqwm\n\nblptudkxqia\nkajptmxludbeqic\nanxidlktbpuq\ntqaklpuxdoib\npbqkatlidxu\n\nrjupkhfimcytlowgbnze\nwdpsagcrykxeomihtlzbf\n\nxkfzoluymcg\nmilckuovzfyg\nomcfkyuzlg\nfogzcklmyu\ngqoyckuflamz\n\nxuywv\newuy\nbyuwpgt\nwuvyjx\n\nrtfbcjkhzxvwdeqmyl\nwhqtmkloecxrzdiynb\n\ntlakqwy\nlwtaqy\nayqwtl\nwlctaqoy\nyqlwat\n\nqme\nqme\neqm\nmqe\n\nnwmrsflpcay\ntafprnwlcmy\nwacgprmnylf\n\njghyvk\nwmspcyr\nyxalebn\nhvy\n\nokqbazsh\nztlbkahpxow\nkuozahb\noazkhb\n\novnaqcg\njarbe\n\nxdjuzohfnvqyrag\nexbqnyovrifuzjawhdsp\njhvfyrdnouaxqz\nfavdqhyuljxogrzn\nrfnxduaqvzhjoy\n\nclx\nnx\n\nhxr\nurhx\nlxrh\nnhrx\n\nczafkt\ntkoc\ntck\n\nwjyxhcemqopsif\nyeosjmfxqhcpiw\njfmewqsyhpocxi\nehcoxyjiqmpsfw\njhmevpoxqsagfwyciz\n\nvzwsc\ncswzv\n\nyihqcvgmswr\nlhyonpzbvcegwaxs\niuwhcsykgv\nvitfywgcqushd\n\nsprazqldenowck\ncnwqlsead\n\nvycjno\njndiofc\nenycjo\ncejon\n\ncz\nzjc\nzc\nkzc\n\nuqz\nqaz\nqz\nzq\nnqyxbzlg\n\nmsgvcra\nclugnjfrqwdky\n\ntuambvhyxkjgworeqlcd\ngqtcjynbkhrowdpfmlz\n\nnjfud\nfdiunj\nnudjf\nujdnf\n\nvxcdygpf\nc\nsajc\n\nednfp\nnzmoeptdf\nenvqdfp\nnqdpvejf\n\nzbljntm\nmnyzbrepj\njnmzbqwcd\nbzmjun\n\nfreopjitc\nubesxqzytpaj\n\nchu\ncyhu\nuohc\n\nkucjmgxbz\nsfgwdht\n\nvhsft\nsfvt\ntsvf\n\nfmkcjeahvo\nomafzjchvk\njcmhafslekov\nmhfvjxcako\nyfkjwovhacm\n\nomqwalvbhnctzksd\ndmhcwgokvzatsjypqxn\n\nrae\nrae\n\nkrsfvuilhp\nafwbrmo\n\ngforteuvwbdhlynapm\npdnwtomyefluhrba\nskmtwbadfouxnyerl\ntblojwfermudany\norbumjtleawdnyf\n\npkzbnaieqxdhwcv\nufvzmcoqxkiwadsgh\n\npfjqir\nqprjif\npfjdrx\npfrncteaj\n\nzctvj\ncvjz\nujgclzv\ncjhvz\n\nqsdhlyojwckxt\njycqdto\n\nlyin\ninyl\nynli\n\nmepna\nmpuqna\nmplan\nqnmljap\ngmpcknvhaw\n\ndwlgfkbytpsvzrhocmx\nyzqvxkdtrscopgfwlm\nvprkldmyqeogfwtczxs\ncqlmtbxzwvprgsfkody\nutmpyvgasxkdofwrclzi\n\narsgpnjowxikdmuzy\naqsgwijynldzcuk\n\nyahsrdx\nraxyhsd\nhxadyrs\n\nwracz\ncar\nrcaw\nakqrc\n\nztecarjfvpyu\nfzpemyuaxctjr\n\nubzyxt\nixtqnpkrdcsway\n\njvczubednmhflwg\nzgcjlhduevwnfmb\n\nnmrghqdwcpb\ndrnhcwgpbmq\ngwmcdqphbrn\ngbrqwnphdcm\nbgdhmrpnwcq\n\naulwoc\naoluc\nlaouc\nluaoc\n\nmieafvsbwzcj\nscwmfvjabzie\nzfvcawsbximeju\nwbizefvhjmcas\ncwsihjbvmzafe\n\ne\ne\nse\n\nqhjlkwfux\nxqhflujwk\nkwxuljqhf\nwhkuxlqjf\nfkluqjwhx\n\nukbghtdnmrof\nsvlkyaiqwtzxnbegfroj\ngrbcpnotkf\n\nebtdjpzak\ntdpyjzanhe\najzudbitple\neapvjtmgfqdczx\npaesdtjz\n\nhyunpcexs\ncrzuebywkx\nhfcueygx\nsequxcy\ncxmyeigqu\n\nxhojpeuifkwagclnmbsyv\nntzedpgqrlb\n\ntjcfwyhn\ntjysuw\njxgywtp\nwvjezyta\nypjwdbsti\n\nkgujzftcnrh\nkrjmungthcz\nztuprhcnjgemv\nthbdcrugnzjx\nfsruzjyhlngcte\n\nubwhla\nbuwl\nlbhu\nwabul\nbilnkufp\n\nlpymwtbquzk\nbmdptuyqwvlzk\nqupkwmtzybl\nzypmlkqubwt\nwzlytqupbmk\n\nfkshlxgywjaz\nbfljvakghypxscw\nndkolixfjtasyumqwhg\n\nygokenlwrubf\nnflkubozyj\nofklynquzb\nybkflpuon\n\nrh\nhr\nrh\nlhr\n\nqygxmfrzwodv\nzrdqgyoxmwvf\nrofdxwyvgmqz\ngrvfydzxqomw\nfwqrgmzvdoyx\n\ndomictwezlursy\njrsmzongcax\ncxzsporm\njmgzofnqvscr\n\not\nojt\nto\not\nto\n\ntsziwcmhlpgebfxdanujqov\ndtnmjisavlbporqwyzefukh\n\naigqlkjyprvcztxfdhmwunb\nzcaypfrthmikvuqwlnbdjgx\njbczgwnqdyvuamkixrpfhlt\nqiuhwvplyntgrfmdbckzxja\n\nekjsdwp\ndpueswk\n\nbxmqup\ngujpqnxm\nqpvomxu\nmhqwclaypxz\nxiqmspd\n\nu\nnds\nmu\nu\n\nucz\nu\nu\nku\n\nwhvxtgpfc\nxhqrlbtc\nuakhdcyz\n\nfr\nmc\n\ndugf\ndfug\ndfgju\n\nblgkyqwsmeunr\nlenpmqgstbrhyu\n\ngyadp\nadyp\noywdapc\n\nulmqnatkcz\nmanlczukqt\nmqzlnkucat\n\nibfldxqgvhyntomew\noydfwnhtqblivemgx\nwlbfgquthnydmixvoe\n\nghfurqksbxdevawmnzoijlp\naolfhvksrgxziwbedmjqupn\njqzdrhsbxmknolwvaipfgeu\n\nowpunqvembjgh\nmrutexapbksd\n\nvwzrstglah\nshltgbzw\nwltgbszh\nghztwls\ntgshzlw\n\numhfe\nfm\nmf\nmf\nmf\n\nrjbleoux\njuelcxb\nwexihyfvtmbsk\n\neqoxpwrdvjksmtgfacly\nmjcladsvxwtqroyekpgf\nevmkxltqwosdycfparjg\ntewfspajodcvxgkyrlqm\n\nnekh\nknhe\nehkn\n\nlechzpmjqsiayk\nkavhyumj\n\nylqawcxvjfdbrit\nqidrcwtalfhn\nzatfcqpwrydilx\nrelmsdqafgtciuw\nihdfalwctxrkq\n\nwnlpkdogmtjry\nhysrgpnodcmwktl\nmyldprketognw\nkdwptoylmbrng\nlwgrutpykndmo\n\nkrhviqalxtzpbmjodcwy\nlakvhqwijroxmpbtdz\nuolpxarzsqtwgbhvjmdki\npzkbavixjdtrmgholwq\n\nsmdjla\nasdmlj\nsjalm\nsafmjl\n\nsuxodwmkpya\nctouegzhqpbws\nrjlnviw\n\ntjzcenpgwhry\nwjehcygpzrtn\neywcgtjprznh\ntgzypcwrnjhe\n\nmkrbaxvth\nvhkbmxr\n\nyejbkoatwshxgrf\nrbltwyeshjfkaonxg\n\nqpynbcmgwei\nbwngqymhis\ngxrilonymqwb\nmwybqzintg\npmjwsngdiqykb\n\nipauz\nazpuis\n\nbslptiuy\nflbgprtsyi\nnyqtlbjips\nsiguypltbf\nsbktylpi\n\ndchsxpevkamwb\nvaxebskdhfc\nvclhkgmxadoesb\nxbqsuhvdryikczae\n\ngsq\ngsq\nqsg\nqsg\nqgs\n\ntfv\nws\n\nh\nh\nh\n\nyqant\nkcxjsl\n\nmurkbfphvcdxjoltanyq\nbgphukfmnadixyrqvjlotc\nlukptvynjizhfrxmqodacb\nhtvxocyfnkrplubadmqj\njuoadmclhytrfpxwvnkbq\n\nevoxmajwzhri\novzhiaemrxwj\nrzjwhxmieovab\njmrzwoaheivcx\nmexrqihvawnozj\n\nhjkqrtolspfwzeymbvxci\ndswthxvfjizypockrqlbe\n\nhwjbnaqyfxmtp\nxhynbafjwmqtp\npxthujyambfwnq\nnahwjtmfxqbpy\nabhqfwmxjpytn\n\nsxlcikh\njhxi\nixk\niuxtrov\n\npahzgxyfsovw\nvfgyxaulphosw\nkyohxvawsgpf\n\nktyldbgmnezupwhifjqa\nmoavjubleydwpnhkft\nnfyaewbljdmpoukht\n\nqlnkitdzpw\nshkquxnfwcbldiz\n\nxcydfaphz\nphuzctyxdeg\nxzmyhpdc\nzhpcdxy\nyahszdcxp\n\npziwnkcrlaegvqm\nvketnqmogifpx\n\npgkywbz\nyicb\nybl\nby\nbsyc\n\nw\nw\nwf\nnw\nyxpw\n\nxkowlzyfg\nkzxelo\nzljoxk\nzxklo\n\non\nzbmof\nzwe\nm\nqjst\n\nbvxurajphwotlfg\nplbtxughrafwvjo\ntvxagjfwuroplhkb\nfvswogtjarhbplxu\ngztjypobcxnfwaqehvlru\n\nrlmuqjvbsyhd\nmvldbqrkjusp\n\nkogjn\nkjgon\nkongj\njkngo\ngznjok\n\njwryklzmitdop\ntysrjdw\nbjydrntwu\naytwdrj\ndywvjtr\n\nhocrsimfaeuxnld\nkdxbfilqwch\n\nhaldjczwifbkymosgrpxq\ncwmdjlrbfyxkphisgoa\nlsfcimdbphyoajgwkrx\nmgdpotylkfxwsachbrij\nimyplbjdshxwrfocgka\n\nrdywe\neyzbw\ney\noreqy\nyiue\n\njuxv\nuxjv\njvkx\nvxj\n\np\npk\np\np\n\nevyxnjfhbukctls\nknsxtcfbuehyv\nyenkbfustcvxh\nfhbcnuseyvktx\n\njrbpsediyuxkz\nivqtewhyomzc\n\nphfebgdqylnitv\nlivhqmtypbedgf\nhvbiyfgpteldq\nvhtgbpeyifqdl\ntglbdchfaoypieqv\n\nsiyn\nisyhn\n\ntzhdfkl\nnjypvuwamecgsq\nilbxht\nro\nx\n\nfcdqjmwop\nomqfwjcpk\n\nluiexa\nalxuie\niauexl\n\nwab\naw\nwa\naw\naw\n\nnjghb\ngjbhn\nbnhs\nbnh\ndbnhp\n\nqflcvbpwger\nlhycovbxqrwe\n\npnrulmeoy\nernsopmylu\n\nrawysqzlfjd\nryzlfqdaswj\nrjfsdqalyzw\nfjardzqswyl\nwljfrqzadys\n\ncl\ncl\nlc\nlc\ncl\n\nqxpjwuktzdvcengfmalhr\nhrjmudvwzckogtpfexq\njqzckrthdwxupgevmf\nzxuehptkqcjgdmrwvbfi\n\nd\nd\n\nlr\nlr\nalhpr\nrl\n\nmfjlbitn\nmnfijgblst\nlftnmibj\n\nrjsvglpamuqtkf\ngjfqaxtskcvrlupm\npqgatujsmvflrk\nvagkpusfljmqrwt\n\no\no\n\nbfdw\nbtgw\nmbqw\n\npztgnlfjrosdy\njusgnqobytlhr\nltfpnsagoryjd\njogwrilnstym\n\nkba\nak\nmrsocfjn\nqd\na\n\nhiwjx\nishdwjx\nwxihjey\nxhwij\n\np\npg\np\np\np\n\nqgptrvo\nfgprtvq\n\ncqdzir\nzrsc\nkzxbcjr\nlcxkzrwq\n\nzjanetblwcisodmkghrfvxyp\negszxvpcmrlitwjnbhofayk\nzwnxmrjiypctkfeblhavsgo\nretfmziplhgkwxanosjcybv\n\ngsodevhlix\njizguohlv\nxvsgohilck\nmvlyisogh\nkovebflihg\n\nqagwb\nawbq\naqwbt\n\npckgorutxfn\npusrhocxnk\nnokrclxmup\norpmcunlkx\n\nybsrzvtophijcx\nxohyprbzijtvs\nyxirztpvhbosqj\nhtgzopxkjeribsyfvm\nvjzthsoprybqxi\n\nxdgjiapumqth\ndoyirnhfgbxcpa\ngqdpkhavxiwj\n\ngmeyf\nfmgey\nmgyef\nmeygf\nfgmeyr\n\njtsvqnf\nnfjet\nndktfj\n\nzhfblxrng\nlnbzprgf\nfisqavznlbmcgdt\nnflgzb\n\nexgjnzsarhvpmwd\nuozjhrwvdxeabngmps\nvwsxgeadhjpmynrz\nmdexrhazsgjnpwv\nhzaerjxvgdwnkpsm\n\nybo\noby\nboy\nboy\n\nskzat\ntzks\n\njai\naij\nyerigcdtx\npiqoz\n\nk\nkm\nlk\nky\n\nszcvjaehuwbqg\njbavewzcuhsgq\nsepbuzvqwjhgac\nzbvwajqcueshg\nvhwgbjeqzscua\n\nmn\nmnk\ngnlm\nnm\npnm\n\nvknrswebxhqip\nrhbxqskwpei\nsbwhqreikpx\npxkigfwrbehsmq\nqiezrhkxspwb\n\npgsfdiuyv\nyfqdivgsu\nyuigvdsf\n\nmlnxbavsrfkoh\nifrlvdsoan\n\nhypxobcrwj\npbyhjcwxro\n\nedcktsrh\nhcvrs\nrshiqmx\nrphltsb\ntsrlhu\n\nswdx\nxpqw\noxrgwkq\nxpfw\nlcmtuwxyz\n\nzjfqilswdtrnecm\nlqsyndmjfrzwcie\ndrzflgswijnqxec\nqmlnpzkdisfrtcejw\n\nrhvsfaopuc\nouiafvwsp\nsadwfopukgvn\n\nbca\nhlaicm\nacreb\nawcb\ncga\n\nbkprumswqvjexofy\nbredoqvxmwulfjyktc\nsqyobfurpwvjxemk\nqbuwsemkrjgvfoiyx\n\nblecimw\nibevxwozml\nlbwimce\n\nzvmaiotju\ngubo\nbgowu\n\nuvycgfrzsa\nsvqczgeafyrbn\n\nwikumtyzq\noyidem\n\nacupgo\npou\nopu\n\nsemhzkwbpf\nswmphbzfke\nzwkmsbpefh\nhsfpmekzwb\nkewmzpsfhb\n\nbn\nn\nn\nn\n\nqbu\nubq\n\nvylgakednfuji\nbneplxayidkcvgu\nhedqwrzmyulstokva\n\nxfczwpihktmovlygjqu\nvbujlkoxwftmnaizhpgcq\nzgkixlomvnuqwtjpscfh\n\nwld\npl\nlp\nlq\n\nqspzfkvcj\njkvsgqcfp\nptdcswkavqyjfo\n\nrkv\nnryvux\nvrgob\nynkarmv\n\nypfolxac\nawmnxviqfto\nofxsba\nfahtbosx\nsafwnorbx\n\nhyxdzilaqcufktnjs\nmzuojklqatchfxnyid\ntuqysahkcnfdzlbijx\nctjxdkfzynalqhiu\n\niekbthlywpqog\nriqcesvgz\nliqpkedofgt\n\nkgowrmzt\nowhizkmd\nwfkzoixsm\noyjkwzvlmqpb\n\nrh\nhr\nrhlt\nhr\nhr\n\nflwgecipkhrov\nretphkfvlocgiw\nwckgliefhrpov\nwigkprhlcvfoe\nopwilkegfrvhc\n\nxvycoqmr\nmixnvqkroy\ncmvroyqx\ncqomrxvy\n\nleaxtowgyfusvn\nvkftjhi\nmvtpjf\nhbpqcztfvr\n\ngjntfylqv\njfngqlv\nlvgjqfn\nfvqjlgn\n\nf\na\n\nbz\nybz\nzb\nbz\nzb\n\nvydulosmfjci\nahbzxndwtmruvfqgpkj\n\nqskd\np\nh\nh\n\nynxcwptkvjrlzbuqdeom\niocjykshxunqtr\nctynkrjxuhoq\n\nlxhdvw\nmgneql\nlh\nxvdrl\n\nipn\npmin\n\nfjslnqizrwdugvtp\ngflntqsdvirwjpzu\nszfigtrqnudvlpjw\nvznlswjgqcitfudpxr\npfiwsgznluqrjtdv\n\nfwydsbojgqnkc\noqyjndwfbkcgs\nqdbwjgkcfsyno\nfnjyqkdscobwg\nfyjbdkgwoqcsn\n\ntepdyr\nrdpe\nsdxplfwer\nydrep\nrpyzed\n\ny\nr\nr\n\nojck\nkjco\nojmkc\nckoj\n\nursaovzdi\nlxsbfyegq\n\nzb\nbz\n\nwzyna\nzi\nhzbuv\n\nvcjzkqs\njtzksvq\nvqjzslhk\n\nnabjpwyq\n\nd\nls\nxd\ny\nv\n\nbog\ndk\n\nwdhflrxqisynumgvckpzaob\normgkwnqbzvhlsyxduiacpf\ngptouzfbrdaeinqcslmywxvkh\n\ngjqpaownevz\nzwnjqp\njzqwlpn\nljwpqzdn\n\nwfrmqiavepl\nvilqafmwrhsep\nalqvrwpfmie\nqpelarmwvfi\n\nz\nz\nz\nz\nz\n\ncbra\nabsrc\narcb\n\nfyotgixvpuhmejnwr\nkjpqazlygts\n\nbcwamxoyvu\ncbvxynowum\nybvwmucxkpoj\ncuxwvybmo\n\nzbjealfshyut\nprxqnilaz\nklwgozax\naczln\n\nnfbwtpa\nmpudjgskelqbhzfv\n\nwcfbvhd\nfhdvcwb\nchfvdwb\nwcfhrbmvd\n\nadvfcbwh\nrwucbvda\n\nwezpclrtvgxnb\nxwrzfpnvgbl\nrbvgzqxnpl\nluoakpsxmdrgbzvy\n\njynkfstombapvqhdex\ntlkhjsibqynvwmeaux\n\nzceihofwba\nbopifeczwh\ndeixomckwfz\n\ntaykiuesxbndzqholgvm\nekzxslvmyothgnaudq\natumxdzyqlhvgesnok\noxsmqudvgehtylkanz\n\nvwfdcjhgbqytlzro\nfdrzjlcyqobvw\nfwvrozlejbdcnyq\nbafldoczwryjuqvn\n\nvhuk\nhkvur\nvmhku\nbhkvu\nhkvmu\n\nraiszytwogqj\nrwajsqkiyzto\nizgjwyosatrq\nrayszwqoitj\nsojyiwtzqrga\n\nvjuyizhqrtfcwxa\ncifosaqwyzvgrphjx\nvhyxtrfajqzwic\nmiqxhrfcbjawyvuz\n\ngsrqlwfd\nlydsgwipqf\n\ngqafbew\nfabqgewk\nwgqfbae\nabqehwgf\n\nuaxc\ncajx\naxlcr\nrcxap\nacxlp\n\nehkoaumb\nkmfnpsdwlxicgtr\nvqmjky\nvemk\n\nsj\ns\nsi\n\nakosi\nsiko\nsiokn\noski\nkois\n\nfdvq\nmsrhou\n\nhregctbqxlndk\nbdqgletxhrwk\n\nktx\ntk\n\nroj\nokr\nxorv\n\nusofjlmex\nlfjmndrs\nsvcmwljfgbyipa\nlsmjnf\n\nrx\nx\nx\nx\n\ntwzi\ncwotz\nwzkt\n\nuewctzgvkoj\ncutzkwjoelv\n\nyjkigdqnmbevtpz\nbycktedpmzjxqin\nprwzmokeiqtnjbyda\nkpundeybtjmqzi\nnzjikqedmphybt\n\ngbx\nhgyj\nbgf\nsgtur\nbcgkm\n\ne\nd\ne\n\nilsugkx\nslkigxu\niuslkxg\n\ndlpvungoktesibcf\ngtopsufinlcvkbed\n\nfr\nrf\nrf\nfr\nfr\n\nmqwfpvkxds\nvmadqpxsfwk\nnfmjwxrqdkvsp\nqvdfwsmxkp\n\nihypftmwkjavezgbxc\nqgvtnsahxyjflzwrcudkm\n\nfvxgnkim\nivxknbz\nvyaqtxunjhwdiock\nnikgpsvxl\nbexfznikv\n\nue\neu\nue\nue\nue\n\ntuvesnfjalybpk\nqkvdehcpyabfjts\npvebjtasfky\nvahptfeckysbj\n\naynlzfvwbeg\neawybzgfnl\n\nmeydqlkijc\nqcyidlmjek\ncmyjeklqd\nyjclqmeksfd\n\nmrbucoztgpqwhjikvnxdsafl\ndmcgjwboqxlaizptnvfhkrs\nmolqvxhabswgfnzirkpjtdc\n\nrn\ngn\nng\ngn\n\nfjrkxcm\nmflwtcjx\nynuxsmpezvjc\ndtcxbmj\n\nqtrehmbgscl\nhuqdcftsbeoyvrlk\nrnlehgqzbwctpjs\n\nwlsrzymhpu\ngwcmrhzlpjyu\n\nauqycw\nuqhwacyl\ncuaywq\nmzecqyuwa\nuahqcwy\n\nu\nu\nxvruq\nu\nu\n\nzytrqed\nfnqzeyd\n\numrefq\njwficzvnoply\nkrufsa\n\ny\ny\ndn\n\ncondu\ncufnwgshxz\ncnu\nicnju\nicnu\n\nkgbns\nklnbg\nnmebg\ngbdnyufaj\n\nvehocbtkpfm\nqztsmfb\ndgmflbit\nbqzmfgt\nlfmzbt\n\nkrgoxqldeatmibvc\ntdxkvbegmlaoc\nctamlkvdegbrxo\nvbdktgmoalzxecp\n\nz\nz\nz\nz\n\nw\nv\nv\nv\nv\n\nobplutfcjih\niofcuhtj\n\nxbzosrulkjy\nzoxjuskrly\nujyslrokxnz\nyzsoklxujr\n\nwkctfpmehxs\nwvisua\nsjlznw\n\npwvqg\nbtxvpwq\nqvpdw\nwspqv\npovqw\n\nypkudorxbfvgwzqatci\ncvkuasjywbxo\nhcbokwxuvyan\nkeabmoyxlvucw\n\naprsibm\ndui\niydcu\n\nlhbmdio\nihldbom\nhmliobdn\n\nbulyqrtixdpnz\nnaitduzhqclprb\n\nwu\nu\nuql\nuy\nu\n\nqmnr\nnr\nrn\nnr\n\nt\ntf\nt\nt\n\nr\ng\ng\n\nzu\nkz\nbmnzyp\ncaudz\n\netqca\neqta\nqeat\neqat\nqfkladet\n\npwjvzfaeiqrhkg\nazjcnghdwympkr\n\nuiomdytbqsck\nmiodubqcykst\n\ngow\nwgo\nogw\nwgo\nongw\n\nf\nf\n\ntu\ntu\nut\ntu\n\norjcylmtqfws\njmywqlhofaugcsr\nifcrmuwqoly\nvzlpknwyfqecxrodmb\n\nyil\nlzy\nely\n\nmu\nsmcluy\nftgzj\ndh\n\ndnw\ndwn\nwndo\nndw\ndnw\n\nwxbvfljri\nwfrbixvlj\nfmibpywjxlr\nijxlegfrwb\n\npnvlk\nyvnk\n\nfinwu\nnuw\nyncwu\nmaiugwn\nxwnfmu\n\nqyzkvwlrj\nyqjzlv\nvqtyzl\ncdhyfvzlsagq\nvyqrlzw\n\naervczodlixbmkuqwst\nkbtsnjhfyxzw\n\nrfbykpxamcnqdg\nqkrnapgcmxdbfy\ncmbgdrnkqyjaxf\ngdkmcbayxqfnr\n\nrunivm\nqxytswonubpahfe\nldvjun\nvczngu\n\nj\nz\n\nzrbvdpgykiqea\nkdvwzaiyregqp\ndxpkaievzrgyq\nakgcqvidpylzjsre\n\nn\nx\nn\ns\n\nij\nqyij\n\ndlyctwiqkrnhomajbxzgpsuefv\nnaqrodiyzejvcmkbhspxtgfwlu\nhgotncquakzyflmxwevprsdjbi\n\nwxhriozjbnsdqpeftykgvm\nnoqdjrsixpfegwykvtblmh\nwpsbvrhjdtkyonigqmexf\nqwnexrjdtobvsahmpfgyik\nhoerbsqpyivmtdxgnfjkw\n\nkaqtcsyzvoilgfu\nctuyfaslgwoqndez\n\nvlxujg\nvdzqebysi\nvxojgw\nkv\n\nkqmrbtedvplcons\nwdqmcovykrlg\nkdujrcqmlhofa\n\nhujqdpyzg\nhjqguda\ngqwizdhjum\n\nnsrzk\nnk\nnk\nnk\nkn\n\nmvozjeadkyiuqwtgrlp\nmqezpkyvlhajntbugw\nalwtuyzvmqjepkng\neuwmltqzygvkjpa\n\nvpqfsjdylgecuizkxaro\nmrlfuyvgadocieskqzxpj\npltswakzqcebgnuyfxjhrvdio\nfejdlprausgoxqivyckz\niaqpkeozyrcugfdjxslv\n\nfeshunjdyrkpz\nsyofqrnzpelwkvahgx\nfhszymeknprdtj\n\npxjh\njyi\ngdj\nijyt\n\nhcxwbldj\nkptnqau\n\njhmrnue\nmjhen\niandxscqemj\njmnrve\n\ncfbqlyvjmrdn\nmvcqodbrjyln\nqbcuyrdjvxlmn\nlghsydmrqvcktnjb\n\ndcnisejazf\nnsvfiaye\nuepirnbsaft\nxsaizefn\n\njfidqhkgvmcanou\nfavcmjnqgohkdui\ngdqoknhmjaucifv\nogacvinhjqdumkf\nivfumakhondqcgj\n\nnk\ntu\n\nltwubkpry\nwkyrulst\nrkutwyb\ntwxeuorkyjaq\nkhygfrtuwv\n\nriklmxy\ntoxzyujcwg\nkydxabhl\nqhpdyex\n\ndxrsczbgi\nibrxpzdg\nrixgzbpd\nrzjxigblwmd\nxbdgcriz\n\nbdkosnwg\nhptwavs\nwosg\n\nfytbweiqrd\niem\nei\nei\nhiem\n\ncgldnk\ndnicgvk\nkncgdr\n\nzbtmgxspadkylnerjfivwc\nkoghdbqplitywmjzcfnxsurae\n\nziesxa\nxkai\naybxi\nxtai\n\nuvlwbn\narbuwvnl\nblnwvu\nlvmbnuw\nuflcwvbn\n\nwj\nlaj\njrks\njz\n\npaoxnbwidzqecj\ncbjqzndxioaew\nwjcgzblidnexotqa\n\nundrbvjazkxfwm\nrbjgmavwkfnd\nbvdkarohjmwfinq\n\nztjgylusnhkwmdpcfaer\nejzhlxabwpcgrqymfks\n\nrboazst\nfev\nl\ny\n\nstzbhglu\ntzwbgklm\nlgbtkzq\n\nswlhoaey\nijecmrtv\n\nfpgusrznxmjiwky\nwmiupyfzstjgnrx\nwjypusngirfzxm\npjfgiumrnwysxz\nyijmrfszawpguxn\n\njzuondf\nfpwkcg\n\ngj\ngj\ngj\njg\n\napxbyduwrzvhiqnotecmk\nzbxnvdwecahyoutkrmqpi\ndwmeafckuvbyphxtnqzoir\nztswbvqlehonyiagukpcmrxd\n\nepyahzmivfoxdcrubskj\nwezaqkisrnodxjmbcuh\n\nmivkr\npvmugk\njvpkcm\n\nfsdjmwkhqelz\nlegdqhsfjwmz\nhdqzekjslmfw\nzqfhmlyejwds\nzshemkljdwfq\n\neibptzmws\npdiwezovabmt\netwyzbpmri\nmnpwbteuzi\nnzfmitpwbe\n\nkmo\nkom\nokm\nkom\n\nujmz\nvjaz\njz\n\naqtgbhmknexouplv\noplqjutbyenmvxkagh\nfgnbwklchvdamotpuxeq\neuapytnmhqovgkbxl\n\nshbmrnoqdacv\nlbzmikpeojqs\n\ndtmufyeshikonvcrbzap\nkrcphwzfbo\nqfhzrgxpbkjoc\n\nidgusvbeqrokjzmhyapcwnlxtf\ngodcwmnrbsxktlpehqijyavzuf\n\nzoikpdh\nkdzxpo\nyodezkfrp\nzslgmopkbtd\npdozfk\n\nhnpdkeoqzmljbu\nlhrdwsyxcukogivnabt\n\nqailhuryopcsewdnkbxfmjz\nnmljvdxibtqapkucsoyrzfewh\ncgapwlsonbmxekuqjrzyhdif\n\nlseiogtaykwpjvxzmbqhfucr\nmpxvfuljayzkshrtqgwbeico\n\nacsfyhpkizetowrblm\nehytpcsriaflkbzmwo\n\nfkmvgxnad\njyiqwos\nowbur\n\nrf\nf\nrf\nxf\n\nhtqudbfwcrzkyisganv\nqdisahkzucbfrytwvgn\nhkynuwcbgqtrifavsdz\ntabkzuqgrfhwcvsyindm\n\nowtzqplauxgfyecsmnjr\neulgncpmjszxtqyfowra\npxjailfskqywrnzmucohegbt\nfzpreujmqcwtgsloxnyva\nsarecmqfuvonxtyzpljgw\n\nixuylwrvmjqopzhacnsgbfkte\nyrjefzhgtmpqncxvisbklwaou\nzaornisymxegujlbfwkchtqpv\nrsoklpwytmencjhbgxuqafvizd\niambcjokxzhtgvqrwnflyspeu\n\nmqinhscjobfuregvpkdw\nroflkwnigjdmcbhsvpuqe\nojchiyqpswkbunemfrvdg\n\nvdqxkcy\nlsrpwizheuan\n\niceuf\nvifeup\nwifsuec\nuebizxqfmg\nieufwr\n\nuxlwm\nxwuml\nrulsqpedzmw\nmulwt\nmlwtyu\n\ncgukthfdrleyqnoz\nqytznodclkrgehfu\nzgktqnlreuodchyjf\nzeocuryhlqnktgfd\n\njviwfprdxunlqsazhygm\nobcikrjatmepv\n\ndjrfnkuelt\nbxwrypsaqnizgtohcl\nftnemvlur\n\nc\nl\nc\n\nwkhxcmtqnf\ntjfyhxip\n\nplytx\nxlpt\nptlxbza\nxiptl\nlpxtc\n\nut\nut\ntun\ntu\n\ngojwnh\ntapjweo\njkwsoz\nnptwjo\nowyjfib\n\nvazl\nvzslau\nlzyvua\nlzvram\n\nn\nn\nu\nn\n\nnti\nint\nnti\n\neqy\nqncev\nxwfe\neyon\n\nfyvultxjdgw\necljt\nainqkpsjlobtm\n\npgntz\nbyjpvkxmn\nidu\nkglpzxv\njhzst\n\nhn\nhzn\nnh\n\nlmvzfqx\nxzqfulvm\nfmzxqlv\nvlqfxzm\n\ngsiuwrczj\nuwcirzsj\nurwsjzic\ncijusrwz\n\njmzveqfclwpd\nzlqmdjwcepgvf\npufyqwdtbnmzljcv\n\nljzicfgkqusv\ncqvfjzsgikbrlmu\nqijfsklugvhzc\n\nphwqbjmoat\njpaoiktbqwm\ngqmwpoatjb\ntpvfmjqzawosr\npmolqnwjtea\n\nmndxkegtvbrq\ngxbrjqkvieyd\nqxbvkedrg\n\nejk\nj\nuhjd\n\ngnpuomqsczeh\nnuzijsechdmo\nykwohmcztexrbnu\nsuzcojemlaqvnfh\n\ncxns\nc\ncbv\nc\n\nsglxydakoqjmfpwncu\nmazrvtencdub\n\nuz\nckug\nui\nu\nu\n\nncgouzbesahkim\nbnkmjo\nbmoknw\nobmpntfk\nmnkqbo\n\njnqgixtohes\nstiexgpjohnq\nexioqnhsgjt\nsxtngoejhiq\n\nasvtq\nk\nlftxqrb\nqnb\npjde\n\ntdrozlxfshiw\ncxplyaeqrnjmubgtv\n\nnavw\nouw\n\nyonraj\neryjnao\nayrojkn\n\nmxysoptf\ntbsmypfxo\nyofsmptx\npxofmstyq\nfstpmyxo\n\npzyn\nnzyp\nzpny\nynzp\npzyn\n\nzyhcfse\nhyscze\nzycseh\nzheycs\n\ngcouisqaxlrvejydphmbt\njmitxhzpvrkedlycgabuosq\n\nivrntbe\ntenivb\nvtnbie\n\nyjizefmgdkaxv\nivydxfaemgjhkz\novcdmaebxwyukzjgi\nevhimadzjgykxl\n\nnvlsp\nsnlp\nplsn\n\nfbpzqdiasx\nsfpzajbiqxd\nfsbiqadpxz\n\nn\nfnl\ninw\nn\n\nhpydugkiazcwojsv\nepchvgtbuirn\n\nbkuga\nmaofiw\nvka\n\npfjwql\njwfmolu\ntdwp\npfomwvb\nkceywi\n\nhsbtrodwjuqzga\ngbdsqtvzorauw\nqrszogbtadw\ngpblwatnxrsdfzqo\n\npvjhdz\ndvopjh\njhuvly\n\ndrpc\nrlpz\n\nbwhkzcqxu\npzfomwtqs\nzdqnxwg\n\nlgeqvjzaxiw\nthvaywui\naivwfhmy\n\nshmfjyrgdbvip\ntojvnqpgbxksfrad\nbmgrshcdvjfp\nzcerjsdpfgbhv\n\nyfgu\ngidfy\nmfy\n\nxafkiu\nqxaibuk\n\nrwnzdfj\nnjtwdf\njufnbwid\nnjwdf\n\nfcti\nxil\nmiud\n\nufsljiomb\noifljsbmu\nosjbifqulm\nijtpsmubfol\njfcuobilmws\n\nurimpzvkwh\nrkwmcpizvyuh\n\nqsmrxznjhyakovdlbg\ngkbvzoyhjasxrdmlqn\nglnbcdjyzwaoqxhrmsvk\n\nyqxhzp\nzxqh\nzhqxebn\nxqihz\n\nnsmkjgrqyez\ngwkzmcbduov\ncamkghz\n\nndjyewmtrflbxkvi\nfxidynwjtkbmrevl\n\nxi\no\nj\nb\nbm\n\ngbukjdtx\nskzjxgbmt\ntxqejbgfhprk\nlmtjxykzanbg\n\nmtqlhzwa\nzawqhlt\n\namscyopkbnewlud\nplndsweamtobyckquh\naypntosdcebkumlw\napmeyduoklnbjcsw\n\ngt\no\n\npwlgxaurefnvhsz\nlzevfhbpanux\n\ndfuijyeasc\niecshjfdy\n\naxvduikeslfy\nakfolydevis\nlesiyvdafk\n\nghbikrtxv\ntrkebigx\n\nzbsluxv\nuzxlbvs\nslzxvub\nlxvbszu\nsbzulxv")

(-> input
  (str/split #"\n\n")
  (->>
    (map #(-> % (str/replace #"\n" "") distinct count))
    (reduce +)))

(-> input
  (str/split #"\n\n")
  (->>
    (map #(->> % str/split-lines (map set) (apply set/intersection) count))
    (reduce +)))