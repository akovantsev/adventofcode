(ns adventofcode.2016.day06
  (:require [clojure.string :as str]))


(def input "uflevqwk\nrrddgrgk\njownyelh\nsskcoaaq\ncfngremt\njntgxujt\nwiatbvvv\nilspdbkl\ncwgqwrrq\nacusllxy\nkidxuluo\ngxunfaxm\nrfuifzfd\nqidkyaow\ntjqlatwp\nnhxmfxyx\ntanronrx\nqzjpwgvl\njunnfzts\neumwzjzv\neonigpng\ndufrqxjd\nisqxdaej\nhpqakcge\nsywhphbi\nfjskaqwd\nhmyvgeqj\ntpegglex\nvpbzqqfp\njznqymjw\nngnyjegm\nqgpocbnr\noaqwlpkp\njiowhrte\nqamdygfg\nylvnybbb\nmakvhqsf\ngjjnnbsg\nxghnzlkw\nsfkcmopw\nwiyvydqu\nbxczqgba\npcrlchbn\nvvhewabm\nnnftdojn\nicywzuwc\nwiokylcn\nqmxppodk\nyzedohag\nfvjrfyrj\ntfkaufmo\nxkemipkv\niyatsikk\neafrhudq\nnfyghtau\nwttrrdvo\nwauvzvhd\nbzzblbam\nsswyuaow\nmvufeors\niumazrzo\nclhrmzdc\nczvoaqyr\nplrvvzjb\nyjxrypwt\nrinqjksp\nmmigjtpp\nabrmadmr\nfvmijrpg\njxwuzsdq\ngqahdshs\nlumftsyb\nfkecsohh\nbpsxszgv\nqqepgxkb\niacloyjn\nxtrurnvi\nowrjjche\nittraljs\nekdxrdsu\nkxmzdpol\nuekohjhp\nrlxydeli\ngzqnbjzd\nzwywoena\nhgrhtngu\ncyderbzp\nmqwbnimx\nygxhrzpc\nviqvwmir\najwdsqnv\nvycvuquh\nrlqburdz\nnrjikkqz\nbyiuygpb\nqcwlrnvs\niqucoawp\nutoaavak\nggjbwqvk\nissedmzt\nmmapzgrn\niwdadrtc\ndpeszvwm\nzgggkijl\ngdneqfqi\nwyaqgjis\njvowmavy\nvxvesfbr\njsqmzcxq\nfdtbsrpl\navmjobsz\nnelqcrir\nbohozvfw\npgnbpxve\nzhzhlbox\nhgmkxgqq\nlcgcoyic\ndxgjxzvr\nsssgrtay\ndhtzcyfj\nqcovunah\nlekkbwfw\nuwdrgkrm\nbrlyetlg\ndputvtfm\nxkbgowvo\nwdqnyjyj\nlpkuxlqb\nkejpkgbf\nurfwmenq\ntzugmuca\nzmtfxlpn\nbmuzgzco\nswainwsv\ncfmiaylt\nvrzplmiu\nekoixwzr\nsqbthhmj\nkssmukqk\nkgscswjx\nowpvilla\nwtzxjouf\ncauhexcn\ndprkkeah\npxptpwlv\nbtfmykon\nlyvhwdcf\nuojsofzg\nubqslzwj\npfvuloqf\nhrucrkyt\nurtjueoq\nvqiibvdk\nhvdtsupq\nmryedbuz\nyplctgby\nftqrhyal\noqeuxwsh\nrclpgvjw\nmhcrzrcg\ncovwlwho\ngjhxzapi\negzhpzza\ninbmkkbh\nezjvqrkb\nszrmrsxh\najyakvvs\nhlmfstfp\nwghyzvuf\nydidinar\noirwjiqo\nudtjksso\njwnaosru\nlhdyuucj\nekeifpwp\ndjefaqtt\nrbwqvkax\nlcaupsdz\novjjidmx\nhvpdenve\nqdlqusku\nenlupxlr\nadtrmoyy\nnnlluigo\ngbyotoqo\najavmaun\nxtanzcix\nfcqgsiuw\njbyyhitl\nctqkoeic\nvusvexhj\ndywmkciv\nuegfjdip\nsgksturi\nfnppgtvo\nepzgllth\nzpkurdxk\nkkesnnqe\ntkepiakd\ngukbfvsw\nevgdijdz\nrbildand\nfxmpwuvs\nfmnzyqea\nvfktdoao\nwhgkcomu\numfodiid\nafvjmwrf\nlonuybho\nlhopnkwv\nbxekeeki\nlzdgfhyo\nhobjehhm\nbjsyzipy\nbgizykuf\nuktmpbnb\nqxxdsxro\ndqxmncoz\nabqqwmei\nkyvcmjfb\nfngzcrzk\ndythedbo\noejkgzke\nhocnhppm\nogugyxhi\nncikbndl\namwuhiuf\npsrllnmr\nxdhbvbcc\nhobbvqhw\nphiwblgs\nwrixgmhb\nvvmrbduw\nnhakqryr\nvsbbxaur\nyfdsecin\nkacwteta\nefvhzgyg\nlrjzpefq\nzrjvuqrv\njcwnbmvh\nwjuvxmou\nnqcvtdcg\nucpnrgxc\nuswrjjdi\nmmyjmojk\nwvcagtyn\nrecxcumh\nqvrxogte\nljfyiyme\nolmihwjb\nplzycdty\nqnyoxrfx\nonsuhsdi\nasbocmtb\njvndrjvs\nmgzoinlt\nrjfpztzt\nfmdjpiqu\ngoofefiz\niqhvllgl\nculamtyk\nmyxvmukc\ncwvftlqc\nlluqawec\nmlmvmwfm\nutrfawmz\nolzrgvmv\nzisabtap\nfcuxuvnj\nqyimlura\ntlaltbsi\nuyiyareq\nhpztunnb\ndrfdwtfz\nrosbuudb\ntioknlid\ngddxjxwj\naziakvby\nhhttoluv\nkkarvjkn\npuprxohy\nxjcxgzcv\ndxuyhpkq\nvclyijgd\nredbicst\ngqbttgxu\nbffdncnd\nxskpmkio\nskclmsum\ntznntmoj\ngzhhsfwc\nywbppcgx\nbyrbeaxe\nhwrlakpf\ncrlwqcgj\nvhkaxgcz\nwftehney\ntbtmrkxb\nfusuyqka\nrwpnxmhx\nrzqonvaz\nybpwtppo\ncnverhwt\nvdtfgbux\npalvhikl\nkzhqkdll\nqqklvdyg\njmladlee\nnepjydti\naedwmblx\nramkmzgr\nwsolkgti\nwwfrciju\nroocdhyw\nosstwykz\njkpkhqew\naqmgjjjd\ntajwlxnv\nplhodkvv\nxcahqxwi\nzylepnec\npmlywqoo\nospgrrdu\nwblhxxir\niqfzvlpt\nbsofcsig\niepxcvwy\nguugpghl\nikwdlzfs\nyomdcwxz\nurbpcbrh\nwtrzcfiv\nkaapqrqk\nienueukt\ndigyopeb\nkfgclsod\nhenjotok\nnkzjuoxm\nxohkdunh\ngubuvylj\nlugeqspf\nxdkcfccg\nsjnkiffo\nxbviiody\njuwtshlv\nhdjfddmc\nipftsslh\nzggnepcm\nrvccowqn\nswmcofau\noksngpvy\nbjcthagw\ntmzxsyqs\nrebascnq\nyxfixusy\niwewlkxk\nnndfkckq\nuhvaxjal\nfcgqdlru\ntkhlguoa\nwsoefgmr\neebcbzeh\nasmepwma\ndqbujtpa\nxjvmupwe\nrrufqppv\nyiaqkmsf\ncvivqgtm\nyrxfrfdi\nbjkmyhdp\nkwdvoyvn\nnykyqaxg\nzqioepkg\ndwxantqi\nbklxeoqh\nrlxawoax\nbdpfhqkn\nfyzpjymf\nmeoqawzz\nzowwxenu\nzhqpnbtv\ncubwtngh\nsrkxkkbi\nkxcdvznw\nipsllqbn\nimecbjsm\nsehlcine\niogdiznk\ngfovshxc\nzkofnscb\nzqiffwrz\nzizfepxw\nabknfcxu\nhmqtwdqf\nkehagtsw\nxsemphlf\nqwkuvbea\nfebqsrpl\ncwpiafgk\nadqsvihd\nmeclknwc\nrpchvmja\nmpqsuevs\nyoebikcy\nsiyqnsga\ndhoonzsx\nzwydsejp\nnaytcuwv\nftbcjdte\nkqckamex\nnirapuiw\nfayqugxd\nwhdbfmwl\npocevsjf\npxoxjycs\nlpfwtpox\nyaqigvsj\nokiszxlp\nmlxwdfoq\nvjyckcjt\nmvsefvcb\nyrimofcf\nqbxahhop\nuarjvpep\ngdtednol\ndamojpod\nvtrmgubl\nndyuwayp\njhwjhbwx\ncgjenmep\nhawhcszs\nddaxxpec\nqpruxjsi\nnczelirl\nukesixzr\nyfoqzfbk\nkdgbriyq\ndbjinxzc\ntqjuhice\nntbgchkh\ntlfxuvfj\nynwfakyu\nxivxijyl\nhsemlrom\noaaebmru\nfskqiiiu\ndbxrjzqd\nfuelfktt\nrknawwlh\npdyuhufu\npmvsoiwp\nqcygmygy\nlhovvslf\nvrxdvmfq\ncrgndvzy\ngyzzesbl\nankdtxyy\nwfrurbrd\nwrmpakxf\nubczqfpb\nsohcpnnk\nlrjfiylr\nvdwmlkne\ntlekcnym\njadicszq\nkztcxzwn\nqptbjfuf\ngjhhzhuh\nmyjjzyzf\nakxabrde\nlgnystrm\nzxtuokjq\nbffdkzun\nmodssgbc\nxvedbysj\nczpdqkdn\nqlzprpuj\nabuoeoex\nymxzkccu\njbslwqku\nwgehntzj\nzivljhpa\njsustyir\nxglfyyun\nemitjtfp\njyltuhtp\nvbqgtwni\niojlycew\nbhrrxbcg\nvhswcbaz\ntzsobxfz\nhpcbvvnt\ncuilflxq\nohklemxz\naklsjxas\nqczwvhdv\nkecxvvua\nnnlcshhz\ngtxeqhed\nebxirqft\nxawqimpq\nehizwpau\ngjgobwcc\nwuojmfgr\nbubtyubk\nmfnjqxsd\nbzuobqeg\ncnwsyfqt\ndifjbhys\nawvnvqxb\neblmxhlf\nenoeneis\nispzlatd\npvtyulpk\nlrjnrogd\ndfxsbdhb\nhivbahmg\nazpiqnci\nktcmajzb\nmfngiemn\nxtktrzne\nxydgmtrj\nittdjyqt\npvrapfhj\npfpqmubd\neemyoxye\neyorfilw\njmztxeql\noybsnyus\nnihbjowm\ngknzlcem\nchcslofr\nzbpsfdsg\ndxbzaqos\ncqzhujhq\nqlvbwfsn\nydgipmtr\nfhbcfors\nenxopgsy\nsbtdtgjn\nklapbmbk\nqxuqemnb\npspxwtlz\nvnorcada\nqcmhrdcg\nlxwmeejb\nmxgueeih\nrggqkdvj\nkwyrmqms\nnzfhpzmc\nohrlyols\nvrzgflzw\nzujmieye\nsmzjujaa\nmwfontrh\nsuhnkihy\ntpavgxze\ntjzbnyvy\nleakgvti\ncptoaqgx\npegikbtg\nocggetmv\nxxiytrxf\nyqpipjfa\ntihrfpez\nukxiajhk\nxighnfgf\nsgcitckm\ntbvhtnmr\njwbooowx\nldnjtipa\nxpehmloo\nstxkplmo\nlgqddrhb\nhdhsqxdt\ndaxztiim\npcafwglc\nynhyvsjt\nlujyvuug\npnicccbq\nstmwwjec\nzzsysevl\nypvbqpfo\ntljegcgq\nbqanmeji\nejqeknda\njndzdwde\npneveaiv\ngjwpfrjz\nzzwsmfss\nylakaful\ngmyzwvot\ntoiqhrrh\nhtszfvzt\nhagybnpz\nocliwiav\nevzlyabp\ntxppqmkk\nxovsnwyn\nsmsbqsax\nanysxgxd\nztqoskny\nuuvozsty\nnynkbdot\nnxpgfyyw\nvxftiuty\nsvijqamw\nrqdjnwdm\nvqhcjbqp\nmibabxxi\nbffhbltc\nzotfzcbx\nozsxkzzh\nmluqlfrm\nwvrnhdvg\nfmyniyor\nkcdxacgg\noxfzqjba\nfdhedghj\notytinze\nuufwzhll\njnlztauj\nktujpjae")
(def test-input "eedadn\ndrvtee\neandsr\nraavrd\natevrs\ntsrnev\nsdttsa\nrasrtv\nnssdts\nntnada\nsvetve\ntesnvt\nvntsnd\nvrdear\ndvrsen\nenarar")


(defn unscramble [input sort-f]
  (->> input
    (str/split-lines)
    (apply map vector)
    (map #(->> % frequencies (sort-by val sort-f) (first) (key)))
    (str/join)))

(assert (= "advent" (unscramble test-input <)))
(assert (= "easter" (unscramble test-input >)))
(assert (= "evakwaga" (unscramble input <)))
